<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Drake: drake/multibody/optimization/sliding_friction_complementarity_constraint.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<header class="site-header">
 <div class="site-header-inner contain">
  <a class="drake-logo" href="/"><img src="/images/drake-logo-white.svg"></a>
  <div class="menu-mobile-toggle">
   <span></span>
  </div>
  <nav class="site-menu">
   <ul>
    <li class="site-menu-item site-menu-item-main">
     <a class="site-menu-item" href="/">Home</a>
    </li>
    <li class="site-menu-item site-menu-item-main">
     <a class="site-menu-item" href="/installation.html">Installation</a>
    </li>
    <li class="site-menu-item site-menu-item-main">
     <a class="site-menu-item" href="/gallery.html">Gallery</a>
    </li>
    <li class="site-menu-item site-menu-item-main">API Documentation
     <div class="sub">
      <a class="site-menu-item" href="https://drake.mit.edu/doxygen_cxx/index.html">C++</a>
      <a class="site-menu-item" href="https://drake.mit.edu/pydrake/index.html">Python</a>
     </div>
    </li>
    <li class="site-menu-item site-menu-item-main">Resources
     <div class="sub">
      <a class="site-menu-item" href="/getting_help.html">Getting Help</a>
      <a class="site-menu-item" href="https://deepnote.com/workspace/Drake-0b3b2c53-a7ad-441b-80f8-bf8350752305/project/Tutorials-2b4fc509-aef2-417d-a40d-6071dfed9199/%2Findex.ipynb">Tutorials</a>
      <a class="site-menu-item" href="/python_bindings.html">Python Bindings</a>
      <a class="site-menu-item" href="/developers.html">For Developers</a>
      <a class="site-menu-item" href="/credits.html">Credits</a>
     </div>
    </li>
    <li class="github-link">
     <a class="site-menu-item" href="https://github.com/RobotLocomotion/drake">GitHub <img src="/third_party/images/GitHub-Mark-Light-64px.png"></a>
    </li>
   </ul>
  </nav>
 </div>
</header>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Drake
   </div>
  </td>
 </tr>
 </tbody>
</table>
<div class="title-banner">
 <div class="title-banner__title">
  Drake C++ Documentation
 </div>
 <div id="DDGSearch">
  <form id="ddg-search-form" class="wy_form" action="https://duckduckgo.com/" method="get">
   <input type="text" name="q" placeholder="Search C++ API only…">
   <input type="hidden" name="sites" value="drake.mit.edu/doxygen_cxx">
  </form>
  <form id="ddg-search-form" class="wy_form" action="https://duckduckgo.com/" method="get">
   <input type="text" name="q" placeholder="Search all of Drake…">
   <input type="hidden" name="sites" value="drake.mit.edu">
  </form>
 </div>
 <div id="MSearchBoxContainer">
          <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
 </div>
</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('sliding__friction__complementarity__constraint_8h.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sliding_friction_complementarity_constraint.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="anchor" id="sliding_friction_complementarity_constraint"></a>Impose the complementarity constraint on the sliding friction using a Coulomb friction cone model. If the contact is sliding, then the tangential friction force is in the opposite direction to the sliding velocity, and the contact force is at the boundary of the friction cone. If the contact is static, then the contact force is within the friction cone.</p>
<p>We decompose the contact force f into two parts, the static contact force f_static, and the contact force during sliding f_sliding. Namely </p><pre class="fragment">f = f_static + f_sliding                           (1)
</pre><p>In order to enforce the constraint that when the contact is sliding, the static friction force is 0, we impose the complementarity constraint </p><pre class="fragment">v_sliding_tangential * f_static_normal = 0         (2)
</pre><p>To enforce that the sliding force is on the boundary of the friction cone, we impose </p><pre class="fragment">μ * f_sliding_normal = |f_sliding_tangential|      (3)
</pre><p>To enforce that the sliding force is in the opposite direction of the sliding velocity, we impose the following constraint with a slack variable c. </p><pre class="fragment">f_sliding_tangential = -c * v_sliding_tangential   (4)
c ≥ 0                                              (5)
</pre><p>To enforce that the contact force is in the friction cone, we impose </p><pre class="fragment">| f_tangential | ≤ μ f_normal                      (6)
</pre><p>Depending on whether the contact is explicit or implicit, we add constraint (6) by either calling <a class="el" href="group__solver__evaluators.html#gaa1fd44e85ab30519ef7a904a4ebeb82d" title="For a pair of geometries in explicit contact, adds the sliding friction complementarity constraint ex...">AddSlidingFrictionComplementarityExplicitContactConstraint()</a>, if the user knows explicitly that the contact occurs, or calling <a class="el" href="group__solver__evaluators.html#gad168321c6009ddda8ee2ca9abbef90b1" title="For a pair of geometries in implicit contact (they may or may not be in contact, adds the sliding fri...">AddSlidingFrictionComplementarityImplicitContactConstraint()</a> if the user doesn't know if the contact has to occur. </p>
</div><div class="textblock"><code>#include &lt;utility&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &quot;<a class="el" href="contact__wrench__evaluator_8h.html">drake/multibody/optimization/contact_wrench_evaluator.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="static__friction__cone__complementarity__constraint_8h.html">drake/multibody/optimization/static_friction_cone_complementarity_constraint.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="static__friction__cone__constraint_8h.html">drake/multibody/optimization/static_friction_cone_constraint.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="constraint_8h.html">drake/solvers/constraint.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mathematical__program_8h.html">drake/solvers/mathematical_program.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for sliding_friction_complementarity_constraint.h:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="sliding__friction__complementarity__constraint_8h__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacedrake"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedrake.html">drake</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacedrake_1_1multibody"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedrake_1_1multibody.html">drake::multibody</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa1fd44e85ab30519ef7a904a4ebeb82d"><td class="memItemLeft" align="right" valign="top">std::pair&lt; solvers::Binding&lt; internal::SlidingFrictionComplementarityNonlinearConstraint &gt;, solvers::Binding&lt; StaticFrictionConeConstraint &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__solver__evaluators.html#gaa1fd44e85ab30519ef7a904a4ebeb82d">AddSlidingFrictionComplementarityExplicitContactConstraint</a> (const ContactWrenchEvaluator *contact_wrench_evaluator, <a class="el" href="classdouble.html">double</a> complementarity_tolerance, const Eigen::Ref&lt; const VectorX&lt; symbolic::Variable &gt;&gt; &amp;q_vars, const Eigen::Ref&lt; const VectorX&lt; symbolic::Variable &gt;&gt; &amp;v_vars, const Eigen::Ref&lt; const VectorX&lt; symbolic::Variable &gt;&gt; &amp;lambda_vars, solvers::MathematicalProgram *prog)</td></tr>
<tr class="memdesc:gaa1fd44e85ab30519ef7a904a4ebeb82d"><td class="mdescLeft">&#160;</td><td class="mdescRight">For a pair of geometries in explicit contact, adds the sliding friction complementarity constraint explained in <a class="el" href="sliding__friction__complementarity__constraint_8h.html#sliding_friction_complementarity_constraint">sliding_friction_complementarity_constraint</a> to an optimization program.  <a href="group__solver__evaluators.html#gaa1fd44e85ab30519ef7a904a4ebeb82d">More...</a><br /></td></tr>
<tr class="separator:gaa1fd44e85ab30519ef7a904a4ebeb82d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad168321c6009ddda8ee2ca9abbef90b1"><td class="memItemLeft" align="right" valign="top">std::pair&lt; solvers::Binding&lt; internal::SlidingFrictionComplementarityNonlinearConstraint &gt;, solvers::Binding&lt; internal::StaticFrictionConeComplementarityNonlinearConstraint &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__solver__evaluators.html#gad168321c6009ddda8ee2ca9abbef90b1">AddSlidingFrictionComplementarityImplicitContactConstraint</a> (const ContactWrenchEvaluator *contact_wrench_evaluator, <a class="el" href="classdouble.html">double</a> complementarity_tolerance, const Eigen::Ref&lt; const VectorX&lt; symbolic::Variable &gt;&gt; &amp;q_vars, const Eigen::Ref&lt; const VectorX&lt; symbolic::Variable &gt;&gt; &amp;v_vars, const Eigen::Ref&lt; const VectorX&lt; symbolic::Variable &gt;&gt; &amp;lambda_vars, solvers::MathematicalProgram *prog)</td></tr>
<tr class="memdesc:gad168321c6009ddda8ee2ca9abbef90b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">For a pair of geometries in implicit contact (they may or may not be in contact, adds the sliding friction complementarity constraint explained in <a class="el" href="sliding__friction__complementarity__constraint_8h.html#sliding_friction_complementarity_constraint">sliding_friction_complementarity_constraint</a>.  <a href="group__solver__evaluators.html#gad168321c6009ddda8ee2ca9abbef90b1">More...</a><br /></td></tr>
<tr class="separator:gad168321c6009ddda8ee2ca9abbef90b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- footer -->
<div id="nav-path" class="navpath">
  <ul>
    <li class="navelem"><a class="el" href="dir_f1666844dc41ec91c14125b680b7be1b.html">drake</a></li><li class="navelem"><a class="el" href="dir_39b8b3c6654246a9c12332c930bc7d3f.html">multibody</a></li><li class="navelem"><a class="el" href="dir_bd08a370beeb74038c8d9ad70b7a29c4.html">optimization</a></li><li class="navelem"><a class="el" href="sliding__friction__complementarity__constraint_8h.html">sliding_friction_complementarity_constraint.h</a></li>
  </ul>
</div>
<footer class="site-footer padding">
  <div class="contain">
    <a href="/" class="drake-logo">
      <img src="/images/drake-logo.svg"/>
    </a>
    <div class="footer-menu">
      <ul>    
        <li>
          <a href="/doxygen_cxx/index.html" class="site-menu-item">C++</a>
        </li>    
        <li>
          <a href="/pydrake/index.html" class="site-menu-item">Python</a>
        </li>
        <li class="github-link">
          <a href="https://github.com/RobotLocomotion/drake" class="site-menu-item">GitHub <img src="/third_party/images/GitHub-Mark-64px.png"/></a>
        </li>
      </ul>
    </div>
  </div>
</footer>
<script type="text/javascript">
searchBox.searchLabel = 'Go to name…';
searchBox.DOMSearchField().value = searchBox.searchLabel;
</script>
</body>
</html>
