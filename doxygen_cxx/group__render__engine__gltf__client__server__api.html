<!-- HTML header for doxygen 1.14.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Drake: glTF Render Client-Server API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<header class="site-header">
 <div class="site-header-inner contain">
  <a class="drake-logo" href="/"><img src="/images/drake-logo-white.svg"></a>
  <div class="menu-mobile-toggle">
   <span></span>
  </div>
  <nav class="site-menu">
   <ul>
    <li class="site-menu-item site-menu-item-main">
     <a class="site-menu-item" href="/">Home</a>
    </li>
    <li class="site-menu-item site-menu-item-main">
     <a class="site-menu-item" href="/installation.html">Installation</a>
    </li>
    <li class="site-menu-item site-menu-item-main">
     <a class="site-menu-item" href="/gallery.html">Gallery</a>
    </li>
    <li class="site-menu-item site-menu-item-main">API Documentation
     <div class="sub">
      <a class="site-menu-item" href="/doxygen_cxx/index.html">C++</a>
      <a class="site-menu-item" href="/pydrake/index.html">Python</a>
     </div>
    </li>
    <li class="site-menu-item site-menu-item-main">Resources
     <div class="sub">
      <a class="site-menu-item" href="/getting_help.html">Getting Help</a>
      <a class="site-menu-item" href="https://deepnote.com/workspace/Drake-0b3b2c53-a7ad-441b-80f8-bf8350752305/project/Tutorials-2b4fc509-aef2-417d-a40d-6071dfed9199/notebook/index-753e3c9d261247ba9f0eb1d7868c18c8">Tutorials</a>
      <a class="site-menu-item" href="/python_bindings.html">Python Bindings</a>
      <a class="site-menu-item" href="/developers.html">For Developers</a>
      <a class="site-menu-item" href="/credits.html">Credits</a>
     </div>
    </li>
    <li class="github-link">
     <a class="site-menu-item" href="https://github.com/RobotLocomotion/drake">GitHub <img src="/third_party/images/GitHub-Mark-Light-64px.png"></a>
    </li>
   </ul>
  </nav>
 </div>
</header>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Drake
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<div class="title-banner">
 <div class="title-banner__title">
  Drake C++ Documentation
 </div>
 <div id="DDGSearch">
  <form id="search_form_cpp" class="wy_form" action="https://google.com/search" method="get">
   <input type="text" name="q" placeholder="Search C++ API only…">
   <input type="hidden" name="q" value="site:drake.mit.edu/doxygen_cxx">
  </form>
  <form id="search_form" class="wy_form" action="https://google.com/search" method="get">
   <input type="text" name="q" placeholder="Search all of Drake…">
   <input type="hidden" name="q" value="site:drake.mit.edu OR site:underactuated.csail.mit.edu OR site:manipulation.csail.mit.edu">
  </form>
 </div>
 <div id="MSearchBoxContainer">
  <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
</td>
 </div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group__render__engine__gltf__client__server__api.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">glTF Render Client-Server API <div class="ingroups"><a class="el" href="group__geometry.html">Geometric Representations</a> &raquo; <a class="el" href="group__render__engines.html">Rendering Engines</a></div></div></div>
</div><!--header-->
<div class="contents">
<h2 class="doxsection"><a class="anchor" id="overview"></a>
Overview</h2>
<p>Drake offers built-in renderers (RenderEngineVtk, RenderEngineGl), but in some cases users may want to use their own custom rendering implementations. One way to accomplish that is to subclass RenderEngine with a custom implementation and link that into Drake, but sometimes that leads to linker compatibility problems. Thus, we also offer another option: rendering using a remote procedure call (RPC). This document specifies the network API for servicing those requests.</p>
<p>The <a href="https://www.khronos.org/registry/glTF/specs/2.0/glTF-2.0.html">glTF</a> render server API consists of two components: a client, and a server. The client generates and transmits glTF scene files to the server, which then renders and returns an image file back to the client. Drake implements the client side, which can be constructed via <a class="el" href="namespacedrake_1_1geometry.html#a004a8b7a49c0b7a4bc2f8860af26591b" title="Constructs a RenderEngine implementation which generates glTF  files to upload to a render server,...">MakeRenderEngineGltfClient()</a>. The server must respond with images of a certain type and dimension (width and height), but is otherwise free to produce any rendering desired in however much time it needs to render.</p>
<p>The primary design goal for this RPC architecture is for batch-mode dataset generation (e.g., for machine learning), not for realtime simulation. We transmit the entire scene its entirety for each RPC request; the protocol does not support incremental changes to the scene.</p>
<p>The server is welcome to add in fixed scene elements beyond what's transmitted (e.g., the server could add in a building's walls and floor, rather than having the client transmit that same immutable geometry in every RPC). However, for anything dynamic the design intent is that every RPC call is comprehensive on its own.</p>
<p><b>Contents</b>:</p>
<ul>
<li><a class="el" href="#overview">Overview</a></li>
<li><a class="el" href="#server-api">Server API</a><ul>
<li><a class="el" href="#render-endpoint">Render Endpoint</a></li>
<li><a class="el" href="#render-endpoint-form-data">Render Endpoint `&lt;form&gt;` Data</a></li>
<li><a class="el" href="#allowed-image-response-types">Allowed Image Response Types</a></li>
<li><a class="el" href="#notes-on-gltf-camera-specification">Notes on glTF Camera Specification</a></li>
<li><a class="el" href="#notes-on-communicating-errors">Notes on Communicating Errors</a></li>
</ul>
</li>
<li><a class="el" href="#notes-on-rendering-label-images">Notes on Rendering Label Images</a></li>
<li><a class="el" href="#existing-server-implementations">Existing Server Implementations</a></li>
<li><a class="el" href="#developing-your-own-server">Developing your own Server</a></li>
</ul>
<h2 class="doxsection"><a class="anchor" id="server-api"></a>
Server API</h2>
<hr  />
<p>A given server implementation is required to implement a "Render Endpoint" to which the client will issue a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST"><span class="tt">POST</span> request</a> with an <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form">html <span class="tt">&lt;form&gt;</span></a> and then await a rendered image response. The <span class="tt">POST</span> from the client will include uploading the scene file, in addition to a variety of other metadata attributes related to the image being rendered (such as <span class="tt">width</span> and <span class="tt">height</span>), as well as the full specification of the <a class="el" href="classdrake_1_1systems_1_1sensors_1_1_camera_info.html" title="Simple class for characterizing the Drake camera model.">systems::sensors::CameraInfo</a> intrinsics being rendered. The scene file must use the glTF 2.0 file format and must only use embedded assets (with <span class="tt">data:</span> URIs). A future version of this protocol might allow for non-embedded assets.</p>
<p>The server is <b>expected to block</b> (delay sending a response) until it is ready to transmit the final rendered image back to the client. This provides for an easier implementation of the server, as well as this single endpoint is the only form of communication the client will initiate with the server. If the server fails to respond with a valid image file, the client will produce an error.</p>
<p>The server is <b>required</b> to send a valid <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status">HTTP response code</a> in <b>both the event of success and failure</b>. If an HTTP response code indicating success (2XX and 3XX) is received, the client will further require an image response of a supported image type with the correct dimensions. Otherwise, the client will attempt to populate an error message from the file response (if available). As a special note about <span class="tt">flask</span> in particular, if the server implementation doesn't return any code, the default response is always <span class="tt">200</span> which indicates success. When in doubt, have the server respond with <span class="tt">200</span> for a success, <span class="tt">400</span> for any failure related to bad requests (e.g., missing <span class="tt">min_depth</span> or <span class="tt">max_depth</span> for an <span class="tt">image_type="depth"</span>), and <span class="tt">500</span> for any unhandled errors.</p>
<h3 class="doxsection"><a class="anchor" id="render-endpoint"></a>
Render Endpoint</h3>
<hr  />
<p>The render endpoint (by default: <span class="tt">/render</span>) is responsible for receiving an uploaded scene file, rendering the scene, and transmitting an image back to the client. In addition to the scene file, the render endpoint is provided with the full specification of the <a class="el" href="classdrake_1_1systems_1_1sensors_1_1_camera_info.html" title="Simple class for characterizing the Drake camera model.">systems::sensors::CameraInfo</a> object, and optionally the depth range of the systems::sensors::DepthRange object.</p>
<h3 class="doxsection"><a class="anchor" id="render-endpoint-form-data"></a>
Render Endpoint <span class="tt">&lt;form&gt;</span> Data</h3>
<hr  />
<p>The client will <span class="tt">POST</span> a <span class="tt">&lt;form&gt;</span> with an <span class="tt">enctype=multipart/form-data</span> to the server with the following field entries:</p>
<table class="doxtable">
<tr>
<th>Field Name</th><th>Field Description</th></tr>
<tr>
<td><b>scene</b></td><td>The scene file contents. Sent as if from <span class="tt">&lt;input type="file" name="scene"&gt;</span>. glTF scenes will have a mime type of <a href="https://www.khronos.org/registry/glTF/specs/2.0/glTF-2.0.html#_media_type_registrations"><span class="tt">model/gltf+json</span></a>. </td></tr>
<tr>
<td><b>scene_sha256</b></td><td>The sha256 hash of the <span class="tt">scene</span> file being uploaded. The server may use this entry to validate that the full file was successfully uploaded. Sent as form data <span class="tt">&lt;input type="text" name="scene_sha256"&gt;</span>. </td></tr>
<tr>
<td><b>image_type</b></td><td>The type of image being rendered. Its value will be one of: <span class="tt">"color"</span>, <span class="tt">"depth"</span>, or <span class="tt">"label"</span>. Sent as form data <span class="tt">&lt;input type="text" name="image_type"&gt;</span>. </td></tr>
<tr>
<td><b>min_depth</b></td><td>The minimum depth range as specified by a depth sensor's DepthRange::min_depth(). <b>Only provided when <span class="tt">image_type="depth"</span>.</b> Sent as form data <span class="tt">&lt;input type="number" name="min_depth"&gt;</span>. Decimal value. </td></tr>
<tr>
<td><b>max_depth</b></td><td>The maximum depth range as specified by a depth sensor's DepthRange::max_depth(). <b>Only provided when <span class="tt">image_type="depth"</span>.</b> Sent as form data <span class="tt">&lt;input type="number" name="max_depth"&gt;</span>. Decimal value. </td></tr>
<tr>
<td><b>width</b></td><td>Width of the desired rendered image in pixels as specified by the <a class="el" href="classdrake_1_1systems_1_1sensors_1_1_camera_info.html#ad72663daf610f2a0833a2fc3d78e4fdf" title="Returns the width of the image in pixels.">systems::sensors::CameraInfo::width()</a> being rendered, the server <b>must</b> respond with an image of the same width. Sent as form data <span class="tt">&lt;input type="number" name="width"&gt;</span>. Integral value. </td></tr>
<tr>
<td><b>height</b></td><td>Height of the desired rendered image in pixels as specified by the <a class="el" href="classdrake_1_1systems_1_1sensors_1_1_camera_info.html#ad3774f6419003470f54fd495124ef51f" title="Returns the height of the image in pixels.">systems::sensors::CameraInfo::height()</a> being rendered, the server <b>must</b> respond with an image of the same height. Sent as form data <span class="tt">&lt;input type="number" name="height"&gt;</span>. Integral value. </td></tr>
<tr>
<td><b>near</b></td><td>The near clipping plane of the camera as specified by the RenderCameraCore's ClippingRange::near() value. Sent as form data <span class="tt">&lt;input type="number" name="near"&gt;</span>. Decimal value. </td></tr>
<tr>
<td><b>far</b></td><td>The far clipping plane of the camera as specified by the RenderCameraCore's ClippingRange::far() value. Sent as form data <span class="tt">&lt;input type="number" name="far"&gt;</span>. Decimal value. </td></tr>
<tr>
<td><b>focal_x</b></td><td>The focal length x, in pixels, as specified by the <a class="el" href="classdrake_1_1systems_1_1sensors_1_1_camera_info.html#a5260647c6d73b9af547424968d24da09" title="Returns the focal length x in pixels.">systems::sensors::CameraInfo::focal_x()</a> value. Sent as form data <span class="tt">&lt;input type="number" name="focal_x"&gt;</span>. Decimal value. </td></tr>
<tr>
<td><b>focal_y</b></td><td>The focal length y, in pixels, as specified by the <a class="el" href="classdrake_1_1systems_1_1sensors_1_1_camera_info.html#aa1d16b9fcf585fe75becb5357c74ba72" title="Returns the focal length y in pixels.">systems::sensors::CameraInfo::focal_y()</a> value. Sent as form data <span class="tt">&lt;input type="number" name="focal_y"&gt;</span>. Decimal value. </td></tr>
<tr>
<td><b>fov_x</b> </td><td>The field of view in the x-direction (in radians) as specified by the <a class="el" href="classdrake_1_1systems_1_1sensors_1_1_camera_info.html#abf26f8c02fcada355b0278b7934b5321" title="Returns the field of view in the x-direction (in radians).">systems::sensors::CameraInfo::fov_x()</a> value. Sent as form data <span class="tt">&lt;input type="number" name="fov_x"&gt;</span>. Decimal value. </td></tr>
<tr>
<td><b>fov_y</b> </td><td>The field of view in the y-direction (in radians) as specified by the <a class="el" href="classdrake_1_1systems_1_1sensors_1_1_camera_info.html#abc9ba081bfe31e8224d9e40b96f0f717" title="Returns the field of view in the y-direction (in radians).">systems::sensors::CameraInfo::fov_y()</a> value. Sent as form data <span class="tt">&lt;input type="number" name="fov_y"&gt;</span>. Decimal value. </td></tr>
<tr>
<td><b>center_x</b></td><td>The principal point's x coordinate in pixels as specified by the <a class="el" href="classdrake_1_1systems_1_1sensors_1_1_camera_info.html#a3145619e4a819f4ae2ec061893bef1d5" title="Returns the principal point&#39;s x coordinate in pixels.">systems::sensors::CameraInfo::center_x()</a> value. Sent as form data <span class="tt">&lt;input type="number" name="center_x"&gt;</span>. Decimal value. </td></tr>
<tr>
<td><b>center_y</b></td><td>The principal point's y coordinate in pixels as specified by the <a class="el" href="classdrake_1_1systems_1_1sensors_1_1_camera_info.html#ae03e1d5e4c7f223bcee8712aba25c40c" title="Returns the principal point&#39;s y coordinate in pixels.">systems::sensors::CameraInfo::center_y()</a> value. Sent as form data <span class="tt">&lt;input type="number" name="center_y"&gt;</span>. Decimal value. </td></tr>
</table>
<p>Note: {focal_x, focal_y} contains duplicated information as {fov_x, fov_y} given an image size. Nonetheless, both pieces of information are sent to the server so that the server can choose its preferred representation. The server can expect them to be consistent.</p>
<h3 class="doxsection"><a class="anchor" id="allowed-image-response-types"></a>
Allowed Image Response Types</h3>
<hr  />
<p>The client accepts the following image types from a server render:</p>
<ul>
<li>When <span class="tt">image_type="color"</span>, the server may return:<ul>
<li>An RGB (3 channel) unsigned char PNG image.</li>
<li>An RGBA (4 channel) unsigned char PNG image.</li>
</ul>
</li>
<li>When <span class="tt">image_type="depth"</span>, the server may return:<ul>
<li>A 32-bit float single channel TIFF image. The client will interpret this rendering as units of meters.</li>
<li>A 16-bit integer single channel TIFF or PNG image. The client will interpret this rendering as units of millimeters. Pixels at their maximum value (2¹⁶-1) will be interpreted as kTooFar (i.e., infinity).</li>
</ul>
</li>
<li>When <span class="tt">image_type="label"</span>, the server may return:<ul>
<li>An RGB (3 channel) unsigned char PNG image.</li>
<li>An RGBA (4 channel) unsigned char PNG image.</li>
<li>Note: The client will interpret this rendering as a colored label image and convert to the final label image. See <a class="el" href="#notes-on-rendering-label-images">this section</a> for other requirements for returning a label image.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="notes-on-gltf-camera-specification"></a>
Notes on glTF Camera Specification</h3>
<hr  />
<p>For a <a href="https://www.khronos.org/registry/glTF/specs/2.0/glTF-2.0.html">glTF scene</a> file, note that there are two locations that describe the camera:</p>
<ol type="1">
<li>The <a href="https://www.khronos.org/registry/glTF/specs/2.0/glTF-2.0.html#reference-camera"><span class="tt">"cameras"</span> array</a>, which specifies the camera projection matrix. The client will always produce a length one <span class="tt">"cameras"</span> array, with a single entry ("camera 0"). This camera will always be of <span class="tt">"type": "perspective"</span>, and its <span class="tt">"aspectRatio"</span>, <span class="tt">"yfov"</span>, <span class="tt">"zfar"</span>, and <span class="tt">"znear"</span> attributes will accurately represent the drake sensor. However, note that the <a href="https://www.khronos.org/registry/glTF/specs/2.0/glTF-2.0.html#projection-matrices">glTF perspective projection definition</a> does not include all of the information present in the matrix that would be obtained by <span class="tt">RenderCameraCore::CalcProjectionMatrix</span>. While the two matrices will be similar, a given render server must decide based off its choice of render backend how it wishes to model the camera perspective projection transformation &ndash; utilize the glTF definition, or incorporate the remainder of the <span class="tt">&lt;form&gt;</span> data to construct its own projection matrix. A sample snippet from a client glTF file: <pre class="fragment"> {
   "cameras" :
   [
     {
       "perspective" :
       {
         "aspectRatio" : 1.3333333333333333,
         "yfov" : 0.78539816339744828,
         "zfar" : 10,
         "znear" : 0.01
      },
      "type" : "perspective"
     }
   ],
 }
</pre></li>
</ol>
<ol type="1">
<li>The <a href="https://www.khronos.org/registry/glTF/specs/2.0/glTF-2.0.html#reference-node"><span class="tt">"nodes"</span> array</a>, which specifies the camera's global transformation matrix. The <span class="tt">"camera": 0</span> entry refers to the index into the <span class="tt">"cameras"</span> array from (1). Note that this is <b>not</b> the "model view
   transformation" (rather, its inverse) &ndash; it is the camera's global transformation matrix which places the camera in the world just like any other entry in <span class="tt">"nodes"</span>. Note that the <span class="tt">"matrix"</span> is presented in column-major order, as prescribed by the glTF specification. A sample snippet of the camera node specification in the <span class="tt">"nodes"</span> array that has no rotation (the identity rotation) and a translation vector <span class="tt">[x=0.1, y=0.2, z=0.3]</span> would be provided as: <pre class="fragment"> {
   "nodes" :
   [
     {
       "camera" : 0,
       "matrix" :
       [
         1.0,
         0.0,
         0.0,
         0.0,
         0.0,
         1.0,
         0.0,
         0.0,
         0.0,
         0.0,
         1.0,
         0.0,
         0.1,
         0.2,
         0.3,
         1.0,
       ],
       "name" : "Camera Node"
     },
   ],
 }
</pre></li>
</ol>
<h3 class="doxsection"><a class="anchor" id="notes-on-communicating-errors"></a>
Notes on Communicating Errors</h3>
<hr  />
<p>When errors occur on the server side, the server should explicitly return an HTTP response code indicating a failed transaction.</p>
<p>Additionally, the server should clearly communicate <em>why</em> there was an upload or render failure as plain text in the file response. Though this is not strictly required, the user of the server will have no hints as to what is going wrong with the client-server communication. When the file response is provided, this information will be included in the exception message produced by the client.</p>
<h2 class="doxsection"><a class="anchor" id="notes-on-rendering-label-images"></a>
Notes on Rendering Label Images</h2>
<hr  />
<p>Renderers typically can't render objects with "labels". Drake encodes the labels associated with geometries as unique colors and provides those colors to the server as attributes on the meshes. Thus, the label output from any server will be an RGB or RGBA PNG.</p>
<p><b>All renderable artifacts that exist <em>only</em> in the server &ndash; that are not part of the Drake-provided glTF &ndash; must be colored white (RGB=(255, 255, 255))</b>. These server-only renderable artifacts include:</p>
<ul>
<li>The background color.</li>
<li>Any geometries that the server loads (e.g., walls in a room, environment images, etc.).</li>
</ul>
<p>When producing the final label output, the client will interpret this particular RGB value as <a class="el" href="classdrake_1_1geometry_1_1render_1_1_render_label.html#a26f7ca5617c42578143d63b1e065e9be" title="See Reserved labels.">render::RenderLabel::kDontCare</a>. This means that a remote server will never report a pixel with the <a class="el" href="classdrake_1_1geometry_1_1render_1_1_render_label.html#a52e35c3e406b848a0b2f35560d66f450" title="See Reserved labels.">render::RenderLabel::kEmpty</a> value.</p>
<p>For an image to be a proper color-encoded label image, the only pixel values in the image must be one of the recognized label encodings. This may require special render configurations. Any configurations that can introduce color variation must be disabled. That includes (but is not limited to) the following render features:</p>
<ul>
<li>Anti-aliasing (multi-sampling)</li>
<li>Lighting</li>
<li>Color transformations on the rendered image</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="existing-server-implementations"></a>
Existing Server Implementations</h2>
<hr  />
<p><a href="https://github.com/RobotLocomotion/drake-blender">drake-blender</a> is a glTF render server using <a href="https://www.blender.org">Blender</a> as the backend.</p>
<h2 class="doxsection"><a class="anchor" id="developing-your-own-server"></a>
Developing your own Server</h2>
<hr  />
<p>To test the basic client-server communication and rendering, Drake provides a simple server implementation as a reference. For more information about developing your own server or running the prototype, refer to the <a href="https://github.com/RobotLocomotion/drake/blob/master/geometry/render_gltf_client/test">README</a> under <span class="tt">//geometry/render_gltf_client/test</span>. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- footer -->
<div class="navpath">
  <ul>
  </ul>
</div>
<footer id="nav-path", class="site-footer padding">
  <div class="contain">
    <a href="/" class="drake-logo">
      <img src="/images/drake-logo.svg"/>
    </a>
    <div class="footer-menu">
      <ul>    
        <li>
          <a href="/doxygen_cxx/index.html" class="site-menu-item">C++</a>
        </li>    
        <li>
          <a href="/pydrake/index.html" class="site-menu-item">Python</a>
        </li>
        <li class="github-link">
          <a href="https://github.com/RobotLocomotion/drake" class="site-menu-item">GitHub <img src="/third_party/images/GitHub-Mark-64px.png"/></a>
        </li>
      </ul>
    </div>
  </div>
</footer>
<script type="text/javascript">
searchBox.searchLabel = 'Go to name…';
searchBox.DOMSearchField().placeholder = searchBox.searchLabel;
searchBox.DOMSearchField().value = '';
</script>
</body>
</html>
