<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Drake: Accuracy, Tolerance, and Precision</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Drake
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__accuracy__and__tolerance.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Accuracy, Tolerance, and Precision<div class="ingroups"><a class="el" href="group__terminology__and__notation.html">Drake Terminology and Notation</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<p>Most numerical methods are approximate, and many can trade speed for quality under user control. </p>
<p>We need standard, unambiguous terminology in Drake for requesting and reporting solution quality. The terms "tolerance", "accuracy", and "precision" are commonly used in this context but often imprecisely. Below we present how these terms should be used in Drake, following ref. <a href="https://dx.doi.org/10.1016/j.piutam.2011.04.023">[1]</a>. (Some Drake code and documentation may not follow these conventions for historical reasons. If you spot any violations, please add them to issue <a href="https://github.com/RobotLocomotion/drake/issues/13271">#13271</a> so we can modernize.)</p>
<h3>accuracy</h3>
<p><code>accuracy</code> α is a unitless quantity describing permissible relative error. (This is similar to the "relative tolerance" <code>rtol</code> parameter in many numerical packages, including some commonly used with Drake.) Ideally you can think of <code>accuracy</code> as specifying the number of correct significant digits in the desired result. For example, specifying <code>α = 10⁻³</code> should yield a result correct to three digits while <code>α = 10⁻⁶</code> should give six. This is a Platonic ideal that cannot always be achieved perfectly in practice, but Drake algorithms should attempt to respond to a user's <code>accuracy</code> request in approximately this way.</p>
<p>We use the unambiguous terms "tight/tighter/tighten accuracy" and "loose/looser/loosen accuracy" in preference to "high/more/increase" or "low/less/decrease" which are prone to being misunderstood due to the fact that numerically smaller values correspond to more (tighter) accuracy.</p>
<h3>tolerance</h3>
<p>We use <code>tolerance</code> to mean a permissible absolute error ε, which is a quantity with units. (This is similar to the "absolute tolerance" <code>atol</code> parameter in many numerical packages, including some commonly used with Drake.) So "constraint tolerance" is the amount by which a user is willing to have a constraint violated, in units appropriate to that constraint. Thus a tolerance ε=10⁻⁴ for a position constraint means that an error of 0.1mm is acceptable.</p>
<p>In code we often abbreviate <code>tolerance</code> as <code>tol</code>, but prefer the longer spelling in documentation.</p>
<h3>precision</h3>
<p>We do not use this term in Drake in the context of solution quality in numerical algorithms. Instead we reserve it for the Machine Learning term-of-art as in "precision and recall". "Precision" is also conventionally used in the context of floating point arithmetic, such as "double precision" and "machine precision".</p>
<h3>Given accuracy, we can determine tolerance</h3>
<p>In Drake numerical tests and error controlled numerical methods, we typically determine an absolute tolerance using the user-supplied <code>accuracy</code> value α, via <code>ε = α|q|</code> where q is the quantity of interest. This works well provided that <code>|q| ≫ 0</code>. When q is near zero the tolerance ε could be absurdly tight, and if q were exactly zero then we would have a tolerance of zero, meaning only a perfect solution would be acceptable. That is not achievable on a real computer and is why many packages require a user-specified "absolute tolerance" that is used only for quantities near zero. This is an awkward requirement for users however, since tolerance is inherently a quantity with units and most systems have variables of mixed units. So while <code>accuracy</code> applies equally to all quantities and is easy to determine (how many digits do you want in the answer?), <code>tolerance</code> needs to be worked out for each quantity. That is rarely done in practice.</p>
<p>An alternative method, preferred for Drake algorithms, is to make use of known system scaling. For example, if we know a "unit length" ℓ (this is also called a "characteristic length") for a system we can translate accuracy into tolerance via <code>ε = αℓ</code>. Similarly we can define unit angle, time, and so on. This leads to the following computation of absolute tolerance ε, given only the user's requested accuracy α: </p><pre class="fragment">(1)    ε = α max(μ, |q|)
</pre><p>where μ is the "unit" or "characteristic" value in the same units as the quantity of interest q. Because of Drake's use of MKS units and typical use for human-scale robots, μ is almost always set to 1 or 0.1. Thus it is typically possible to make a good guess at μ, which we have found works about as well or better than trying to collect a bunch of absolute tolerances from users with more important things on their minds.</p>
<p>You will see variants of the above Equation (1) used in many of Drake's algorithms and test cases. Please use a similar method and similar terminology in your own Drake contributions, unless you can make a strong argument that something else is necessary.</p>
<ul>
<li>[1] M. Sherman, A. Seth, S. Delp. Procedia IUTAM 2:241-261 (2011), Section 3.3. <a href="https://dx.doi.org/10.1016/j.piutam.2011.04.023">https://dx.doi.org/10.1016/j.piutam.2011.04.023</a> </li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15 -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.nl/">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a></li>
  </ul>
</div>
</body>
</html>
