<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Drake: drake/multibody/plant/contact_results_to_lcm.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Drake
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('contact__results__to__lcm_8h.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<div class="title">contact_results_to_lcm.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;functional&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;type_traits&gt;</code><br />
<code>#include &lt;unordered_map&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &quot;<a class="el" href="default__scalars_8h.html">drake/common/default_scalars.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="drake__copyable_8h.html">drake/common/drake_copyable.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="geometry__ids_8h.html">drake/geometry/geometry_ids.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="scene__graph_8h.html">drake/geometry/scene_graph.h</a>&quot;</code><br />
<code>#include &quot;drake/lcmt_contact_results_for_viz.hpp&quot;</code><br />
<code>#include &quot;<a class="el" href="contact__results_8h.html">drake/multibody/plant/contact_results.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="multibody__plant_8h.html">drake/multibody/plant/multibody_plant.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="diagram__builder_8h.html">drake/systems/framework/diagram_builder.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="leaf__system_8h.html">drake/systems/framework/leaf_system.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lcm__publisher__system_8h.html">drake/systems/lcm/lcm_publisher_system.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for contact_results_to_lcm.h:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="contact__results__to__lcm_8h__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrake_1_1multibody_1_1_contact_results_to_lcm_system.html">ContactResultsToLcmSystem&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A System that encodes <a class="el" href="classdrake_1_1multibody_1_1_contact_results.html" title="A container class storing the contact results information for each contact pair for a given state of ...">ContactResults</a> into a lcmt_contact_results_for_viz message.  <a href="classdrake_1_1multibody_1_1_contact_results_to_lcm_system.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacedrake"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedrake.html">drake</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacedrake_1_1multibody"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedrake_1_1multibody.html">drake::multibody</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Visualizing contact results</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="contact_result_vis_creation"></a> These methods extend a Diagram with the required components to publish contact results (as reported by MultibodyPlant) to drake_visualizer. We recommend using these methods instead of assembling the requisite components by hand.</p>
<p>These must be called <em>during</em> Diagram building. Each method makes modifications to the diagram being constructed by <code>builder</code> including the following changes:</p>
<ul>
<li>adds systems multibody::ContactResultsToLcmSystem and LcmPublisherSystem to the Diagram and connects the draw message output to the publisher input,</li>
<li>connects a ContactResults&lt;double&gt;-valued output port to the ContactResultsToLcmSystem system, and</li>
<li>sets the publishing rate to 1/60 of a second (simulated time).</li>
</ul>
<p>The four variants differ in the following ways:</p>
<ul>
<li>Two overloads take a SceneGraph and two don't. Those that do will ensure that the geometry names communicated in the lcm messages match the names used in SceneGraph. Those that don't default to the naming convention documented in ContactResultsToLcmSystem.</li>
<li>Two overloads take an OutputPort and two don't. This determines what is connected to the ContactResultsToLcmSystem input port. The overloads that specify an OutputPort will attempt to connect that port. Those that don't will connect the given plant's contact results output port.</li>
</ul>
<p>The parameters have the following semantics:</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">builder</td><td>The diagram builder being used to construct the Diagram. Systems will be added to this builder. </td></tr>
    <tr><td class="paramname">plant</td><td>The System in <code>builder</code> containing the plant whose contact results are to be visualized. </td></tr>
    <tr><td class="paramname">scene_graph</td><td>The SceneGraph that will determine how the geometry names will appear in the lcm message. </td></tr>
    <tr><td class="paramname">lcm</td><td>An optional lcm interface through which lcm messages will be dispatched. Will be allocated internally if none is supplied. If one is given, it must remain alive at least as long as the diagram built from <code>builder</code>. </td></tr>
    <tr><td class="paramname">contact_results_port</td><td>The optional port that will be connected to the ContactResultsToLcmSystem (as documented above).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(for all overloads) the LcmPublisherSystem (in case callers, e.g., need to change the default publishing rate).</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>plant</code> is contained within the supplied <code>builder</code>. </dd>
<dd>
<code>scene_graph</code> (if given) is contained with the supplied <code>builder</code>. </dd>
<dd>
<code>contact_results_port</code> (if given) belongs to a system that is an immediate child of <code>builder</code>. </dd></dl>
</div></td></tr>
<tr class="memitem:ga8c78a18a7167620f81d5d9780b65d562"><td class="memItemLeft" align="right" valign="top">systems::lcm::LcmPublisherSystem *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__visualization.html#ga8c78a18a7167620f81d5d9780b65d562">ConnectContactResultsToDrakeVisualizer</a> (systems::DiagramBuilder&lt; double &gt; *builder, const MultibodyPlant&lt; double &gt; &amp;plant, lcm::DrakeLcmInterface *lcm=nullptr)</td></tr>
<tr class="memdesc:ga8c78a18a7167620f81d5d9780b65d562"><td class="mdescLeft">&#160;</td><td class="mdescRight">MultibodyPlant-connecting, default-named geometry overload.  <a href="group__visualization.html#ga8c78a18a7167620f81d5d9780b65d562">More...</a><br /></td></tr>
<tr class="separator:ga8c78a18a7167620f81d5d9780b65d562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70e362ebad8d7556c8e3cb883af12d13"><td class="memItemLeft" align="right" valign="top">systems::lcm::LcmPublisherSystem *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__visualization.html#ga70e362ebad8d7556c8e3cb883af12d13">ConnectContactResultsToDrakeVisualizer</a> (systems::DiagramBuilder&lt; double &gt; *builder, const MultibodyPlant&lt; double &gt; &amp;plant, const geometry::SceneGraph&lt; double &gt; &amp;scene_graph, lcm::DrakeLcmInterface *lcm=nullptr)</td></tr>
<tr class="memdesc:ga70e362ebad8d7556c8e3cb883af12d13"><td class="mdescLeft">&#160;</td><td class="mdescRight">MultibodyPlant-connecting, SceneGraph-named geometry overload.  <a href="group__visualization.html#ga70e362ebad8d7556c8e3cb883af12d13">More...</a><br /></td></tr>
<tr class="separator:ga70e362ebad8d7556c8e3cb883af12d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4761192640acd751f57edc644e34ca66"><td class="memItemLeft" align="right" valign="top">systems::lcm::LcmPublisherSystem *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__visualization.html#ga4761192640acd751f57edc644e34ca66">ConnectContactResultsToDrakeVisualizer</a> (systems::DiagramBuilder&lt; double &gt; *builder, const MultibodyPlant&lt; double &gt; &amp;plant, const systems::OutputPort&lt; double &gt; &amp;contact_results_port, lcm::DrakeLcmInterface *lcm=nullptr)</td></tr>
<tr class="memdesc:ga4761192640acd751f57edc644e34ca66"><td class="mdescLeft">&#160;</td><td class="mdescRight">OutputPort-connecting, default-named geometry overload.  <a href="group__visualization.html#ga4761192640acd751f57edc644e34ca66">More...</a><br /></td></tr>
<tr class="separator:ga4761192640acd751f57edc644e34ca66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf04cff08eadce0b0c46cb7c6a30d9dd9"><td class="memItemLeft" align="right" valign="top">systems::lcm::LcmPublisherSystem *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__visualization.html#gaf04cff08eadce0b0c46cb7c6a30d9dd9">ConnectContactResultsToDrakeVisualizer</a> (systems::DiagramBuilder&lt; double &gt; *builder, const MultibodyPlant&lt; double &gt; &amp;plant, const geometry::SceneGraph&lt; double &gt; &amp;scene_graph, const systems::OutputPort&lt; double &gt; &amp;contact_results_port, lcm::DrakeLcmInterface *lcm=nullptr)</td></tr>
<tr class="memdesc:gaf04cff08eadce0b0c46cb7c6a30d9dd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">OutputPort-connecting, SceneGraph-named geometry overload.  <a href="group__visualization.html#gaf04cff08eadce0b0c46cb7c6a30d9dd9">More...</a><br /></td></tr>
<tr class="separator:gaf04cff08eadce0b0c46cb7c6a30d9dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15 -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_f1666844dc41ec91c14125b680b7be1b.html">drake</a></li><li class="navelem"><a class="el" href="dir_39b8b3c6654246a9c12332c930bc7d3f.html">multibody</a></li><li class="navelem"><a class="el" href="dir_656f7d340c0f5b4ecaf881820f2aea38.html">plant</a></li><li class="navelem"><a class="el" href="contact__results__to__lcm_8h.html">contact_results_to_lcm.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.nl/">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a></li>
  </ul>
</div>
</body>
</html>
