<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Drake: SsaoParameter Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<header class="site-header">
 <div class="site-header-inner contain">
  <a class="drake-logo" href="/"><img src="/images/drake-logo-white.svg"></a>
  <div class="menu-mobile-toggle">
   <span></span>
  </div>
  <nav class="site-menu">
   <ul>
    <li class="site-menu-item site-menu-item-main">
     <a class="site-menu-item" href="/">Home</a>
    </li>
    <li class="site-menu-item site-menu-item-main">
     <a class="site-menu-item" href="/installation.html">Installation</a>
    </li>
    <li class="site-menu-item site-menu-item-main">
     <a class="site-menu-item" href="/gallery.html">Gallery</a>
    </li>
    <li class="site-menu-item site-menu-item-main">API Documentation
     <div class="sub">
      <a class="site-menu-item" href="/doxygen_cxx/index.html">C++</a>
      <a class="site-menu-item" href="/pydrake/index.html">Python</a>
     </div>
    </li>
    <li class="site-menu-item site-menu-item-main">Resources
     <div class="sub">
      <a class="site-menu-item" href="/getting_help.html">Getting Help</a>
      <a class="site-menu-item" href="https://deepnote.com/workspace/Drake-0b3b2c53-a7ad-441b-80f8-bf8350752305/project/Tutorials-2b4fc509-aef2-417d-a40d-6071dfed9199/notebook/index-753e3c9d261247ba9f0eb1d7868c18c8">Tutorials</a>
      <a class="site-menu-item" href="/python_bindings.html">Python Bindings</a>
      <a class="site-menu-item" href="/developers.html">For Developers</a>
      <a class="site-menu-item" href="/credits.html">Credits</a>
     </div>
    </li>
    <li class="github-link">
     <a class="site-menu-item" href="https://github.com/RobotLocomotion/drake">GitHub <img src="/third_party/images/GitHub-Mark-Light-64px.png"></a>
    </li>
   </ul>
  </nav>
 </div>
</header>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Drake
   </div>
  </td>
 </tr>
 </tbody>
</table>
<div class="title-banner">
 <div class="title-banner__title">
  Drake C++ Documentation
 </div>
 <div id="DDGSearch">
  <form id="search_form_cpp" class="wy_form" action="https://google.com/search" method="get">
   <input type="text" name="q" placeholder="Search C++ API only…">
   <input type="hidden" name="q" value="site:drake.mit.edu/doxygen_cxx">
  </form>
  <form id="search_form" class="wy_form" action="https://google.com/search" method="get">
   <input type="text" name="q" placeholder="Search all of Drake…">
   <input type="hidden" name="q" value="site:drake.mit.edu OR site:underactuated.csail.mit.edu OR site:manipulation.csail.mit.edu">
  </form>
 </div>
 <div id="MSearchBoxContainer">
          <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
 </div>
</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('structdrake_1_1geometry_1_1_ssao_parameter.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structdrake_1_1geometry_1_1_ssao_parameter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SsaoParameter Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Screen-space ambient occlusion (SSAO) parameters. </p>
<p>Ambient occlusion is a shading method used to calculate how exposed each point in a scene is to ambient lighting. The more occluded a point is, the darker it appears. SSAO is an efficient, real-time approximation of ambient occlusion that operates in screen space. It enhances the depth and realism of a scene by adding subtle shadowing effects in creases, holes, and surfaces that are close to each other. See <a href="https://www.kitware.com/ssao/">https://www.kitware.com/ssao/</a> for an overview.</p>
<p>The default parameter values below have been chosen as a best-guess effort at producing good quality images. They may not be optimal for your particular scene.</p>
<p>To understand how to tune these parameters, you need a bit of insight into how ambient occlusion works generally, and how SSAO works specifically. For each pixel, its "occlusion factor" is determined by examining a hemispherical area around the pixel's position in 3D space (oriented based on its normal). The fraction of the hemisphere contained within geometry is the occlusion factor.</p>
<p>SSAO produces a discrete approximation of the true occlusion factor. It evaluates a discrete number of samples within the hemisphere and compares their depths (in the OpenGL-camera sense) with that of the pixel being shaded to determine how much of the hemisphere is occupied by geometry. As with all discrete approximations, there is a tradeoff between fidelity and cost. The parameter documentation below provides some guidance on the effect of each parameter on the final rendered image. </p>
</div>
<p><code>#include &lt;drake/geometry/render_vtk/render_engine_vtk_params.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8e8824802dedfbc36776227f7482b6bc"><td class="memTemplParams" colspan="2">template&lt;typename Archive &gt; </td></tr>
<tr class="memitem:a8e8824802dedfbc36776227f7482b6bc"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="structdrake_1_1geometry_1_1_ssao_parameter.html#a8e8824802dedfbc36776227f7482b6bc">Serialize</a> (Archive *a)</td></tr>
<tr class="memdesc:a8e8824802dedfbc36776227f7482b6bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Passes this object to an Archive.  <a href="#a8e8824802dedfbc36776227f7482b6bc">More...</a><br /></td></tr>
<tr class="separator:a8e8824802dedfbc36776227f7482b6bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a3f67c53b80389c5f53961936edba04c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdouble.html">double</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdrake_1_1geometry_1_1_ssao_parameter.html#a3f67c53b80389c5f53961936edba04c9">radius</a> {0.25}</td></tr>
<tr class="memdesc:a3f67c53b80389c5f53961936edba04c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The radius (in meters) of the sampling hemisphere.  <a href="#a3f67c53b80389c5f53961936edba04c9">More...</a><br /></td></tr>
<tr class="separator:a3f67c53b80389c5f53961936edba04c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6231a5027112a1cf56c610e6d7d91c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdouble.html">double</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdrake_1_1geometry_1_1_ssao_parameter.html#aa6231a5027112a1cf56c610e6d7d91c5">bias</a> {0.01}</td></tr>
<tr class="memdesc:aa6231a5027112a1cf56c610e6d7d91c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">SSAO works in screen space; so it uses the depth image to determine whether a sample lies within the hemisphere or not.  <a href="#aa6231a5027112a1cf56c610e6d7d91c5">More...</a><br /></td></tr>
<tr class="separator:aa6231a5027112a1cf56c610e6d7d91c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e0d21871ffe556f58524ae0eab311b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdrake_1_1geometry_1_1_ssao_parameter.html#a9e0d21871ffe556f58524ae0eab311b4">sample_count</a> {128}</td></tr>
<tr class="memdesc:a9e0d21871ffe556f58524ae0eab311b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is simply the number of samples taken.  <a href="#a9e0d21871ffe556f58524ae0eab311b4">More...</a><br /></td></tr>
<tr class="separator:a9e0d21871ffe556f58524ae0eab311b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a371c5be4d95a0db3c6cbf12d42602701"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdouble.html">double</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdrake_1_1geometry_1_1_ssao_parameter.html#a371c5be4d95a0db3c6cbf12d42602701">intensity_scale</a> {1.0}</td></tr>
<tr class="memdesc:a371c5be4d95a0db3c6cbf12d42602701"><td class="mdescLeft">&#160;</td><td class="mdescRight">Once the occlusion factor is computed, prior to applying the factor to the shaded pixel, you can apply a final affine transformation:  <a href="#a371c5be4d95a0db3c6cbf12d42602701">More...</a><br /></td></tr>
<tr class="separator:a371c5be4d95a0db3c6cbf12d42602701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad951a7c8a17ae566c113082803b97bed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdouble.html">double</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdrake_1_1geometry_1_1_ssao_parameter.html#ad951a7c8a17ae566c113082803b97bed">intensity_shift</a> {0.0}</td></tr>
<tr class="separator:ad951a7c8a17ae566c113082803b97bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a934561dc43201b78f69aee95a4ca2950"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdrake_1_1geometry_1_1_ssao_parameter.html#a934561dc43201b78f69aee95a4ca2950">blur</a> {true}</td></tr>
<tr class="memdesc:a934561dc43201b78f69aee95a4ca2950"><td class="mdescLeft">&#160;</td><td class="mdescRight">The discrete sampling approach will ultimately produce shading with a noisy pattern.  <a href="#a934561dc43201b78f69aee95a4ca2950">More...</a><br /></td></tr>
<tr class="separator:a934561dc43201b78f69aee95a4ca2950"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8e8824802dedfbc36776227f7482b6bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e8824802dedfbc36776227f7482b6bc">&#9670;&nbsp;</a></span>Serialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Serialize </td>
          <td>(</td>
          <td class="paramtype">Archive *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Passes this object to an Archive. </p>
<p>Refer to <a class="el" href="group__yaml__serialization.html">YAML Serialization</a> for background. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aa6231a5027112a1cf56c610e6d7d91c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6231a5027112a1cf56c610e6d7d91c5">&#9670;&nbsp;</a></span>bias</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdouble.html">double</a> bias {0.01}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SSAO works in screen space; so it uses the depth image to determine whether a sample lies within the hemisphere or not. </p>
<p>We compare the depth of a sample point with the recorded depth in the same direction. In principle, if the sample point is farther than the recorded depth, the sample is occluded. This bias pads that calculation by specifying how far in front (in meters) the recorded distance has to be before the sample is considered occluded. Larger bias values will classify fewer samples as occluded, reducing the amount of ambient occlusion (darkness) in the final image.</p>
<p>A non-zero value is usually helpful to help resolve potential issues due to depth map precision issues (so-called "acne"), but it should generally be small. </p>

</div>
</div>
<a id="a934561dc43201b78f69aee95a4ca2950"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a934561dc43201b78f69aee95a4ca2950">&#9670;&nbsp;</a></span>blur</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool blur {true}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The discrete sampling approach will ultimately produce shading with a noisy pattern. </p>
<p>More samples will reduce the noise, but you can also apply a blur to the final occlusion image to reduce the noise. This is a screen space blur, so it is fast. However, it will also reduce the sharpness of occlusion patterns. You can disable blurring to speed things up, but it will emphasize the sampling noise. </p>

</div>
</div>
<a id="a371c5be4d95a0db3c6cbf12d42602701"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a371c5be4d95a0db3c6cbf12d42602701">&#9670;&nbsp;</a></span>intensity_scale</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdouble.html">double</a> intensity_scale {1.0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Once the occlusion factor is computed, prior to applying the factor to the shaded pixel, you can apply a final affine transformation: </p>
<pre class="fragment">occlusion = (occlusion - intensity_shift) * intensity_scale
</pre><p>Using these two values allows you to tune the contrast and mean occlusion value independent of the sampling algorithm above. Remember, the more occlusion, the more darkness. So, scale factors greater than one will make the image darker as will <em>negative</em> shift values.</p>
<p>One reason to consider shifting is is based on the total lighting in the scene. For a very brightly lit scene with a large camera exposure, the ambient occlusion effects should have a smaller influence. A scale less than one, or a shift greater than zero, will reduce the SSAO effect. </p>

</div>
</div>
<a id="ad951a7c8a17ae566c113082803b97bed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad951a7c8a17ae566c113082803b97bed">&#9670;&nbsp;</a></span>intensity_shift</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdouble.html">double</a> intensity_shift {0.0}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3f67c53b80389c5f53961936edba04c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f67c53b80389c5f53961936edba04c9">&#9670;&nbsp;</a></span>radius</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdouble.html">double</a> radius {0.25}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The radius (in meters) of the sampling hemisphere. </p>
<p>There is no "correct" value. Heuristically, it should scale with your scene. A rubric of 1/10th the size of your scene is reasonable. For example, 0.25 meters is good for a robot working at a table top.</p>
<p>If the radius is too large, pixels will exhibit occlusion (darkness) from objects that might seem too distant to be relevant. A too-small radius would have the opposite effect; missing occlusion where it seems it should occur. </p>

</div>
</div>
<a id="a9e0d21871ffe556f58524ae0eab311b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e0d21871ffe556f58524ae0eab311b4">&#9670;&nbsp;</a></span>sample_count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classint.html">int</a> sample_count {128}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is simply the number of samples taken. </p>
<p>More samples lead to smoother occlusion patterns. Large numbers will produce better images but at a higher computational cost. You should use the smallest number that still provides acceptable visual quality. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>drake/geometry/render_vtk/<a class="el" href="render__engine__vtk__params_8h.html">render_engine_vtk_params.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- footer -->
<div class="navpath">
  <ul>
    <li class="navelem"><a class="el" href="namespacedrake.html">drake</a></li><li class="navelem"><a class="el" href="namespacedrake_1_1geometry.html">geometry</a></li><li class="navelem"><a class="el" href="structdrake_1_1geometry_1_1_ssao_parameter.html">SsaoParameter</a></li>
  </ul>
</div>
<footer id="nav-path", class="site-footer padding">
  <div class="contain">
    <a href="/" class="drake-logo">
      <img src="/images/drake-logo.svg"/>
    </a>
    <div class="footer-menu">
      <ul>    
        <li>
          <a href="/doxygen_cxx/index.html" class="site-menu-item">C++</a>
        </li>    
        <li>
          <a href="/pydrake/index.html" class="site-menu-item">Python</a>
        </li>
        <li class="github-link">
          <a href="https://github.com/RobotLocomotion/drake" class="site-menu-item">GitHub <img src="/third_party/images/GitHub-Mark-64px.png"/></a>
        </li>
      </ul>
    </div>
  </div>
</footer>
<script type="text/javascript">
searchBox.searchLabel = 'Go to name…';
searchBox.DOMSearchField().value = searchBox.searchLabel;
</script>
</body>
</html>
