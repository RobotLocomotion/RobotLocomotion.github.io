

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pydrake.solvers.mixed_integer_rotation_constraint &mdash; pydrake  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="pydrake  documentation" href="index.html"/>
        <link rel="up" title="pydrake.solvers" href="pydrake.solvers.html"/>
        <link rel="next" title="pydrake.solvers.mosek" href="pydrake.solvers.mosek.html"/>
        <link rel="prev" title="pydrake.solvers.mixed_integer_optimization_util" href="pydrake.solvers.mixed_integer_optimization_util.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> pydrake
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="pydrake.all.html">pydrake.all</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.autodiffutils.html">pydrake.autodiffutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.common.html">pydrake.common</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.examples.html">pydrake.examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.forwarddiff.html">pydrake.forwarddiff</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.geometry.html">pydrake.geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.lcm.html">pydrake.lcm</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.manipulation.html">pydrake.manipulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.math.html">pydrake.math</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.multibody.html">pydrake.multibody</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.perception.html">pydrake.perception</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.polynomial.html">pydrake.polynomial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="pydrake.solvers.html">pydrake.solvers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="pydrake.solvers.all.html">pydrake.solvers.all</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydrake.solvers.branch_and_bound.html">pydrake.solvers.branch_and_bound</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydrake.solvers.clp.html">pydrake.solvers.clp</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydrake.solvers.csdp.html">pydrake.solvers.csdp</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydrake.solvers.dreal.html">pydrake.solvers.dreal</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydrake.solvers.gurobi.html">pydrake.solvers.gurobi</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydrake.solvers.ipopt.html">pydrake.solvers.ipopt</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydrake.solvers.mathematicalprogram.html">pydrake.solvers.mathematicalprogram</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydrake.solvers.mixed_integer_optimization_util.html">pydrake.solvers.mixed_integer_optimization_util</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">pydrake.solvers.mixed_integer_rotation_constraint</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydrake.solvers.mosek.html">pydrake.solvers.mosek</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydrake.solvers.osqp.html">pydrake.solvers.osqp</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydrake.solvers.sdpa_free_format.html">pydrake.solvers.sdpa_free_format</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydrake.solvers.snopt.html">pydrake.solvers.snopt</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.symbolic.html">pydrake.symbolic</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.systems.html">pydrake.systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.trajectories.html">pydrake.trajectories</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.visualization.html">pydrake.visualization</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pydrake</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="pydrake.solvers.html">pydrake.solvers</a> &raquo;</li>
        
      <li>pydrake.solvers.mixed_integer_rotation_constraint</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pydrake.solvers.mixed_integer_rotation_constraint">
<span id="pydrake-solvers-mixed-integer-rotation-constraint"></span><h1>pydrake.solvers.mixed_integer_rotation_constraint<a class="headerlink" href="#module-pydrake.solvers.mixed_integer_rotation_constraint" title="Permalink to this headline">¶</a></h1>
<p>mixed integer rotation constraint bindings</p>
<dl class="class">
<dt id="pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator">
<em class="property">class </em><code class="descclassname">pydrake.solvers.mixed_integer_rotation_constraint.</code><code class="descname">MixedIntegerRotationConstraintGenerator</code><a class="headerlink" href="#pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>We relax the non-convex SO(3) constraint on rotation matrix R to
mixed-integer linear constraints. The formulation of these constraints
are described in Global Inverse Kinematics via Mixed-integer Convex
Optimization by Hongkai Dai, Gregory Izatt and Russ Tedrake, ISRR,
2017</p>
<p>The SO(3) constraint on a rotation matrix R = [r₁, r₂, r₃], rᵢ∈ℝ³ is</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>rᵢᵀrᵢ = 1    (1)
rᵢᵀrⱼ = 0    (2)
r₁ x r₂ = r₃ (3)
</pre></div>
</div>
<p>To relax SO(3) constraint on rotation matrix R, we divide the range
[-1, 1] (the range of each entry in R) into smaller intervals [φ(i),
φ(i+1)], and then relax the SO(3) constraint within each interval. We
provide 3 approaches for relaxation 1. By replacing each bilinear
product in constraint (1), (2) and (3) with a new variable, in the
McCormick envelope of the bilinear product w = x * y. 2. By
considering the intersection region between axis-aligned boxes, and
the surface of a unit sphere in 3D. 3. By combining the two approaches
above. This will result in a tighter relaxation.</p>
<p>These three approaches give different relaxation of SO(3) constraint
(the feasible sets for each relaxation are different), and different
computation speed. The users can switch between the approaches to find
the best fit for their problem.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you have several rotation matrices that all need to be relaxed
through mixed-integer constraint, then you can create a single
MixedIntegerRotationConstraintGenerator object, and add the
mixed-integer constraint to each rotation matrix, by calling
AddToProgram() function repeatedly.</p>
</div>
<dl class="method">
<dt id="pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>self: pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator</em>, <em>approach: pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.Approach</em>, <em>num_intervals_per_half_axis: int</em>, <em>interval_binning: pydrake.solvers.mixed_integer_optimization_util.IntervalBinning</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor</p>
<dl class="docutils">
<dt>Parameter <code class="docutils literal"><span class="pre">approach</span></code>:</dt>
<dd>Refer to MixedIntegerRotationConstraintGenerator::Approach for the
details.</dd>
<dt>Parameter <code class="docutils literal"><span class="pre">num_intervals_per_half_axis</span></code>:</dt>
<dd>We will cut the range [-1, 1] evenly to 2 *
<code class="docutils literal"><span class="pre">num_intervals_per_half_axis</span></code> small intervals. The number of
binary variables will depend on the number of intervals.</dd>
<dt>Parameter <code class="docutils literal"><span class="pre">interval_binning</span></code>:</dt>
<dd>The binning scheme we use to add SOS2 constraint with binary
variables. If interval_binning = kLinear, then we will add 9 * 2 *
<code class="docutils literal"><span class="pre">num_intervals_per_half_axis</span> <span class="pre">binary</span></code> variables; if
interval_binning = kLogarithmic, then we will add 9 * (1 +
log₂(num_intervals_per_half_axis)) binary variables. Refer to
AddLogarithmicSos2Constraint and AddSos2Constraint for more
details.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.AddToProgram">
<code class="descname">AddToProgram</code><span class="sig-paren">(</span><em>self: pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator, R: numpy.ndarray[object[3, 3], flags.f_contiguous], prog: pydrake.solvers.mathematicalprogram.MathematicalProgram</em><span class="sig-paren">)</span> &#x2192; pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.ReturnType<a class="headerlink" href="#pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.AddToProgram" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the mixed-integer linear constraints to the optimization program,
as a relaxation of SO(3) constraint on the rotation matrix <code class="docutils literal"><span class="pre">R</span></code>.</p>
<dl class="docutils">
<dt>Parameter <code class="docutils literal"><span class="pre">R</span></code>:</dt>
<dd>The rotation matrix on which the SO(3) constraint is imposed.</dd>
<dt>Parameter <code class="docutils literal"><span class="pre">prog</span></code>:</dt>
<dd>The optimization program to which the mixed-integer constraints
(and additional variables) are added.</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.Approach">
<em class="property">class </em><code class="descname">Approach</code><a class="headerlink" href="#pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.Approach" title="Permalink to this definition">¶</a></dt>
<dd><p>Members:</p>
<blockquote>
<div>kBoxSphereIntersection : Relax SO(3) constraint by considering the intersection between boxes</div></blockquote>
<p>and the unit sphere surface.</p>
<blockquote>
<div>kBilinearMcCormick : Relax SO(3) constraint by considering the McCormick envelope on the</div></blockquote>
<p>bilinear product.</p>
<blockquote>
<div>kBoth : Relax SO(3) constraint by considering both the intersection between</div></blockquote>
<p>boxes and the unit sphere surface, and the McCormick envelope on the
bilinear product.</p>
<dl class="method">
<dt id="pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.Approach.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>self: pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.Approach</em>, <em>value: int</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.Approach.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.Approach.kBilinearMcCormick">
<code class="descname">kBilinearMcCormick</code><em class="property"> = &lt;Approach.kBilinearMcCormick: 1&gt;</em><a class="headerlink" href="#pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.Approach.kBilinearMcCormick" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.Approach.kBoth">
<code class="descname">kBoth</code><em class="property"> = &lt;Approach.kBoth: 2&gt;</em><a class="headerlink" href="#pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.Approach.kBoth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.Approach.kBoxSphereIntersection">
<code class="descname">kBoxSphereIntersection</code><em class="property"> = &lt;Approach.kBoxSphereIntersection: 0&gt;</em><a class="headerlink" href="#pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.Approach.kBoxSphereIntersection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.Approach.name">
<code class="descname">name</code><a class="headerlink" href="#pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.Approach.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.Approach.value">
<code class="descname">value</code><a class="headerlink" href="#pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.Approach.value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.ReturnType">
<em class="property">class </em><code class="descname">ReturnType</code><a class="headerlink" href="#pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.ReturnType" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.ReturnType.__init__">
<code class="descname">__init__</code><a class="headerlink" href="#pydrake.solvers.mixed_integer_rotation_constraint.MixedIntegerRotationConstraintGenerator.ReturnType.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pydrake.solvers.mosek.html" class="btn btn-neutral float-right" title="pydrake.solvers.mosek" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pydrake.solvers.mixed_integer_optimization_util.html" class="btn btn-neutral" title="pydrake.solvers.mixed_integer_optimization_util" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>