<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pydrake.perception &mdash; pydrake  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=86f27845" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=6b576c25" />

  
  
        <script src="_static/jquery.js?v=8dae8fb0"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=7f41d439"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pydrake.planning" href="pydrake.planning.html" />
    <link rel="prev" title="pydrake.multibody.tree" href="pydrake.multibody.tree.html" /> 
</head>

<body class="wy-body-for-nav">
<header class="site-header">
  <div class="site-header-inner contain">
    <a class="drake-logo" href="/"><img src="/images/drake-logo-white.svg"></a>
    <div class="menu-mobile-toggle">
      <span></span>
    </div>
    <nav class="site-menu">
      <ul>
        <li class="site-menu-item site-menu-item-main">
          <a class="site-menu-item" href="/">Home</a>
        </li>
        <li class="site-menu-item site-menu-item-main">
          <a class="site-menu-item" href="/installation.html">Installation</a>
        </li>
        <li class="site-menu-item site-menu-item-main">
          <a class="site-menu-item" href="/gallery.html">Gallery</a>
        </li>
        <li class="site-menu-item site-menu-item-main">API Documentation
          <div class="sub">
            <a class="site-menu-item" href="/doxygen_cxx/index.html">C++</a> <a class="site-menu-item" href="/pydrake/index.html">Python</a>
          </div>
        </li>
        <li class="site-menu-item site-menu-item-main">Resources
          <div class="sub">
            <a class="site-menu-item" href="/getting_help.html">Getting Help</a> <a class="site-menu-item" href="https://deepnote.com/workspace/Drake-0b3b2c53-a7ad-441b-80f8-bf8350752305/project/Tutorials-2b4fc509-aef2-417d-a40d-6071dfed9199/notebook/index-753e3c9d261247ba9f0eb1d7868c18c8">Tutorials</a> <a class="site-menu-item" href="/python_bindings.html">Python Bindings</a> <a class="site-menu-item" href="/developers.html">For Developers</a> <a class="site-menu-item" href="/credits.html">Credits</a>
          </div>
        </li>
        <li class="github-link">
          <a class="site-menu-item" href="https://github.com/RobotLocomotion/drake">GitHub <img src="/third_party/images/GitHub-Mark-Light-64px.png"></a>
        </li>
      </ul>
    </nav>
  </div>
</header>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pydrake
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search pydrake only…" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
  <form id="search_form" class="wy_form" action="https://google.com/search" method="get">
    <input type="text" name="q" placeholder="Search all of Drake…" />
    <input type="hidden" name="q" value="site:drake.mit.edu OR site:underactuated.csail.mit.edu OR site:manipulation.csail.mit.edu" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="pydrake.all.html">pydrake.all</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.autodiffutils.html">pydrake.autodiffutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.common.html">pydrake.common</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.examples.html">pydrake.examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.forwarddiff.html">pydrake.forwarddiff</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.geometry.html">pydrake.geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.gym.html">pydrake.gym</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.lcm.html">pydrake.lcm</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.manipulation.html">pydrake.manipulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.math.html">pydrake.math</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.multibody.html">pydrake.multibody</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">pydrake.perception</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.planning.html">pydrake.planning</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.polynomial.html">pydrake.polynomial</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.solvers.html">pydrake.solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.symbolic.html">pydrake.symbolic</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.systems.html">pydrake.systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.trajectories.html">pydrake.trajectories</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.tutorials.html">pydrake.tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.visualization.html">pydrake.visualization</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pydrake</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">pydrake.perception</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-pydrake.perception">
<span id="pydrake-perception"></span><h1>pydrake.perception<a class="headerlink" href="#module-pydrake.perception" title="Link to this heading"></a></h1>
<p>Python bindings for //perception</p>
<dl class="py class">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">BaseField</span></span></dt>
<dd><p>Indicates the data the point cloud stores.</p>
<p>Members:</p>
<blockquote>
<div><p>kNone :</p>
<p>kXYZs : XYZ point in Cartesian space.</p>
<p>kNormals : Normals.</p>
<p>kRGBs : RGB colors.</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">BaseField.__init__(self:</span> <span class="pre">pydrake.perception.BaseField,</span> <span class="pre">value:</span> <span class="pre">int)</span> <span class="pre">-&gt;</span> <span class="pre">None</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">BaseField.kNone</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">BaseField.kNormals</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">BaseField.kRGBs</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">BaseField.kXYZs</span></span></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">BaseField.name</span></span></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">BaseField.value</span></span></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">Concatenate(clouds:</span> <span class="pre">list[pydrake.perception.PointCloud])</span> <span class="pre">-&gt;</span> <span class="pre">pydrake.perception.PointCloud</span></span></dt>
<dd><p>Returns a new point cloud that includes all of the points from the
point clouds in <code class="docutils literal notranslate"><span class="pre">clouds</span></code>. All of the <code class="docutils literal notranslate"><span class="pre">clouds</span></code> must have the same
fields.</p>
<dl class="simple">
<dt>Precondition:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">clouds</span></code> contains at least one point cloud.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>RuntimeError if the clouds have different fields defined.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">DepthImageToPointCloud</span></span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pydrake.systems.framework.LeafSystem</span></code></p>
<p>Converts a depth image to a point cloud.</p>
<table align=center cellpadding=0 cellspacing=0><tr align=center><td style="vertical-align:middle"><table cellspacing=0 cellpadding=0><tr><td align=right style="padding:5px 0px 5px 0px">depth_image&rarr;</td></tr><tr><td align=right style="padding:5px 0px 5px 0px">color_image (optional)&rarr;</td></tr><tr><td align=right style="padding:5px 0px 5px 0px">camera_pose (optional)&rarr;</td></tr></table></td><td align=center style="border:solid;padding-left:20px;padding-right:20px;vertical-align:middle" bgcolor=#F0F0F0>DepthImageToPointCloud</td><td style="vertical-align:middle"><table cellspacing=0 cellpadding=0><tr><td align=left style="padding:5px 0px 5px 0px">&rarr; point_cloud</td></tr></table></td></tr></table><p>The system has an input port that takes a depth image, an optional
input port that takes a color image, and an additional optional input
port that takes the camera_pose, X_PC. If the camera_pose input is
connected, then the point cloud is represented in the parent frame
(e.g., if camera_pose is the pose of the camera in the world frame,
then the point_cloud output will be a PointCloud in the world frame).
If the camera_pose input is not connected, the PointCloud will be
represented in the camera frame. Note that if a color image is
provided, it must be in the same frame as the depth image.</p>
<p>If a pixel is NaN, the converted point will be (NaN, NaN, NaN). If a
pixel is kTooClose or kTooFar (as defined by ImageTraits), the
converted point will be (+Inf, +Inf, +Inf). Note that this matches the
convention used by the Point Cloud Library (PCL).</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">DepthImageToPointCloud.__init__(self:</span> <span class="pre">pydrake.perception.DepthImageToPointCloud,</span> <span class="pre">camera_info:</span> <span class="pre">pydrake.systems.sensors.CameraInfo,</span> <span class="pre">pixel_type:</span> <span class="pre">pydrake.systems.sensors.PixelType</span> <span class="pre">=</span> <span class="pre">&lt;PixelType.kDepth32F:</span> <span class="pre">6&gt;,</span> <span class="pre">scale:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">1.0,</span> <span class="pre">fields:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">&lt;BaseField.kXYZs:</span> <span class="pre">2&gt;)</span> <span class="pre">-&gt;</span> <span class="pre">None</span></span></dt>
<dd><p>Constructs the converter.</p>
<dl class="simple">
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">camera_info</span></code>:</dt><dd><p>The camera info.</p>
</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">depth_pixel_type</span></code>:</dt><dd><p>The pixel type of the depth image input. Only 16U and 32F are
supported.</p>
</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">scale</span></code>:</dt><dd><p>The depth image input is multiplied by this scale factor before
projecting to a point cloud. (This is useful for converting mm to
meters, etc.)</p>
</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">fields</span></code>:</dt><dd><p>The fields the point cloud contains.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">DepthImageToPointCloud.camera_pose_input_port(self:</span> <span class="pre">pydrake.perception.DepthImageToPointCloud)</span> <span class="pre">-&gt;</span> <span class="pre">pydrake.systems.framework.InputPort</span></span></dt>
<dd><p>Returns the abstract valued input port that expects X_PC as a
RigidTransformd. (This input port does not necessarily need to be
connected; refer to the class overview for details.)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">DepthImageToPointCloud.color_image_input_port(self:</span> <span class="pre">pydrake.perception.DepthImageToPointCloud)</span> <span class="pre">-&gt;</span> <span class="pre">pydrake.systems.framework.InputPort</span></span></dt>
<dd><p>Returns the abstract valued input port that expects an ImageRgba8U.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">DepthImageToPointCloud.depth_image_input_port(self:</span> <span class="pre">pydrake.perception.DepthImageToPointCloud)</span> <span class="pre">-&gt;</span> <span class="pre">pydrake.systems.framework.InputPort</span></span></dt>
<dd><p>Returns the abstract valued input port that expects either an
ImageDepth16U or ImageDepth32F (depending on the constructor
argument).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">DepthImageToPointCloud.point_cloud_output_port(self:</span> <span class="pre">pydrake.perception.DepthImageToPointCloud)</span> <span class="pre">-&gt;</span> <span class="pre">pydrake.systems.framework.OutputPort</span></span></dt>
<dd><p>Returns the abstract valued output port that provides a PointCloud.
Only the channels passed into the constructor argument “fields” are
present.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">Fields</span></span></dt>
<dd><p>Allows combination of <code class="docutils literal notranslate"><span class="pre">BaseField</span></code> and <code class="docutils literal notranslate"><span class="pre">DescriptorType</span></code> for a
<code class="docutils literal notranslate"><span class="pre">PointCloud</span></code>. You may combine multiple <code class="docutils literal notranslate"><span class="pre">BaseField`s,</span> <span class="pre">but</span> <span class="pre">you</span> <span class="pre">may</span>
<span class="pre">have</span> <span class="pre">only</span> <span class="pre">zero</span> <span class="pre">or</span> <span class="pre">one</span> <span class="pre">`DescriptorType</span></code>.</p>
<p>This provides the mechanism to use basic bit-mask operators (| &amp;) to
combine / intersect fields for convenience.</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">Fields.__init__(self:</span> <span class="pre">pydrake.perception.Fields,</span> <span class="pre">base_fields:</span> <span class="pre">int)</span> <span class="pre">-&gt;</span> <span class="pre">None</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>RuntimeError if base_fields is not composed</strong><strong> of </strong><strong>valid</strong> – </p></li>
<li><p><strong>BaseField</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">Fields.base_fields(self:</span> <span class="pre">pydrake.perception.Fields)</span> <span class="pre">-&gt;</span> <span class="pre">int</span></span></dt>
<dd><p>Returns the contained base fields.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">Fields.has_base_fields(self:</span> <span class="pre">pydrake.perception.Fields)</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></span></dt>
<dd><p>Returns whether there are any base fields contained by this set of
fields.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud</span></span></dt>
<dd><p>Implements a point cloud (with contiguous storage), whose main goal is
to offer a convenient, synchronized interface to commonly used fields
and data types applicable for basic 3D perception.</p>
<p>This is a mix between the philosophy of PCL (templated interface to
provide a compile-time open set, run-time closed set) and VTK
(non-templated interface to provide a very free form run-time open
set).</p>
<p>Definitions:</p>
<ul class="simple">
<li><p>point - An entry in a point cloud (not exclusively an XYZ point).</p></li>
<li><p>feature - Abstract representation of local properties (geometric and
non-geometric)</p></li>
<li><p>descriptor - Concrete representation of a feature.</p></li>
<li><p>field - A feature or descriptor described by the point cloud.</p></li>
</ul>
<p>This point cloud class provides the following fields:</p>
<ul class="simple">
<li><p>xyz - Cartesian XYZ coordinates (float[3]).</p></li>
<li><p>descriptor - A descriptor that is run-time defined (float[X]).</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>“contiguous” here means contiguous in memory. This was chosen to
avoid ambiguity between PCL and Eigen, where in PCL “dense”
implies that the point cloud corresponds to a cloud with only
valid values, and in Eigen “dense” implies contiguous storage.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The accessors / mutators for the point fields of this class
returns references to the original Eigen matrices. This implies
that they are invalidated whenever memory is reallocated for the
values. Given this, minimize the lifetime of these references to
be as short as possible. Additionally, algorithms wanting fast
access to values should avoid the single point accessors /
mutatotrs (e.g. <code class="docutils literal notranslate"><span class="pre">xyz(i)</span></code>, <cite>mutable_descriptor(i)</cite>) to avoid
overhead when accessing a single element (either copying or
creating a reference).</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The definitions presented here for “feature” and “descriptor” are
loosely based on their definitions within PCL and Radu Rusu’s
dissertation: Rusu, Radu Bogdan. “Semantic 3d object maps for
everyday manipulation in human living environments.” KI-Künstliche
Intelligenz 24.4 (2010): 345-348. This differs from other
definitions, such as having “feature” describe geometric
quantities and “descriptor” describe non-geometric quantities
which is presented in the following survey paper: Pomerleau,
François, Francis Colas, and Roland Siegwart. “A review of point
cloud registration algorithms for mobile robotics.” Foundations
and Trends® in Robotics 4.1 (2015): 1-104.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.__init__(*args,</span> <span class="pre">**kwargs)</span></span></dt>
<dd><p>Overloaded function.</p>
<ol class="arabic simple">
<li><p>__init__(self: pydrake.perception.PointCloud, new_size: int = 0, fields: pydrake.perception.Fields = Fields(base_fields=2)) -&gt; None</p></li>
</ol>
<p>Constructs a point cloud of a given <code class="docutils literal notranslate"><span class="pre">new_size</span></code>, with the prescribed
<code class="docutils literal notranslate"><span class="pre">fields</span></code>. If <code class="docutils literal notranslate"><span class="pre">kDescriptors</span></code> is one of the fields, then
<code class="docutils literal notranslate"><span class="pre">descriptor</span></code> should be included and should not be <code class="docutils literal notranslate"><span class="pre">kNone</span></code>.</p>
<dl class="simple">
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">new_size</span></code>:</dt><dd><p>Size of the point cloud after construction.</p>
</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">fields</span></code>:</dt><dd><p>Fields that the point cloud contains.</p>
</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">skip_initialize</span></code>:</dt><dd><p>Do not default-initialize new values.</p>
</dd>
</dl>
<ol class="arabic simple" start="2">
<li><p>__init__(self: pydrake.perception.PointCloud, other: pydrake.perception.PointCloud) -&gt; None</p></li>
</ol>
<p>Copies another point cloud’s fields and data.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.C</span></span></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">uint8</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.Crop(self:</span> <span class="pre">pydrake.perception.PointCloud,</span> <span class="pre">lower_xyz:</span> <span class="pre">numpy.ndarray[numpy.float32[3,</span> <span class="pre">1]],</span> <span class="pre">upper_xyz:</span> <span class="pre">numpy.ndarray[numpy.float32[3,</span> <span class="pre">1]])</span> <span class="pre">-&gt;</span> <span class="pre">pydrake.perception.PointCloud</span></span></dt>
<dd><p>Returns a new point cloud containing only the points in <code class="docutils literal notranslate"><span class="pre">this</span></code> with
xyz values within the axis-aligned bounding box defined by
<code class="docutils literal notranslate"><span class="pre">lower_xyz</span></code> and <code class="docutils literal notranslate"><span class="pre">upper_xyz</span></code>. Requires that xyz values are defined.</p>
<dl class="simple">
<dt>Precondition:</dt><dd><p>lower_xyz &lt;= upper_xyz (elementwise).</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>RuntimeError if has_xyzs</strong><strong>(</strong><strong>) </strong><strong>!= true.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.D</span></span></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">float32</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.EstimateNormals(self:</span> <span class="pre">pydrake.perception.PointCloud,</span> <span class="pre">radius:</span> <span class="pre">float,</span> <span class="pre">num_closest:</span> <span class="pre">int,</span> <span class="pre">parallelize:</span> <span class="pre">pydrake.common.Parallelism</span> <span class="pre">=</span> <span class="pre">False)</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></span></dt>
<dd><p>Estimates the normal vectors in <code class="docutils literal notranslate"><span class="pre">this</span></code> by fitting a plane at each
point in the cloud using up to <code class="docutils literal notranslate"><span class="pre">num_closest</span></code> points within Euclidean
distance <code class="docutils literal notranslate"><span class="pre">radius</span></code> from the point. If has_normals() is false, then
new normals will be allocated (and has_normals() will become true).
Points for which the normals cannot be estimated (because the <code class="docutils literal notranslate"><span class="pre">this</span></code>
has less than two closest points within the <code class="docutils literal notranslate"><span class="pre">radius)</span></code>, will receive
normal [NaN, NaN, NaN]. Normals estimated from two closest points will
be orthogonal to the vector between those points, but can be arbitrary
in the last dimension. <code class="docutils literal notranslate"><span class="pre">parallelize</span></code> enables OpenMP parallelization.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>true iff all points were assigned normals by having at least
<em>three</em> closest points within <code class="docutils literal notranslate"><span class="pre">radius</span></code>.</p>
</dd>
</dl>
<dl class="simple">
<dt>Precondition:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">radius</span></code> &gt; 0 and <code class="docutils literal notranslate"><span class="pre">num_closest</span></code> &gt;= 3.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>RuntimeError if has_xyzs</strong><strong>(</strong><strong>) </strong><strong>is false.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.fields(self:</span> <span class="pre">pydrake.perception.PointCloud)</span> <span class="pre">-&gt;</span> <span class="pre">pydrake.perception.Fields</span></span></dt>
<dd><p>Returns the fields provided by this point cloud.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.FlipNormalsTowardPoint(self:</span> <span class="pre">pydrake.perception.PointCloud,</span> <span class="pre">p_CP:</span> <span class="pre">numpy.ndarray[numpy.float32[3,</span> <span class="pre">1]])</span> <span class="pre">-&gt;</span> <span class="pre">None</span></span></dt>
<dd><p>Changes the sign of the normals in <code class="docutils literal notranslate"><span class="pre">this</span></code>, if necessary, so that
each normal points toward the point <code class="docutils literal notranslate"><span class="pre">P</span></code> in the frame <code class="docutils literal notranslate"><span class="pre">C</span></code> in which
the xyzs of <code class="docutils literal notranslate"><span class="pre">this</span></code> cloud are represented. This can be useful, for
instance, when <code class="docutils literal notranslate"><span class="pre">P</span></code> is the position of the camera used to generate
the cloud.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>RuntimeError if has_xyzs</strong><strong>(</strong><strong>) </strong><strong>!= true</strong><strong> or </strong><strong>has_normals</strong><strong>(</strong><strong>) </strong><strong>!= true.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.has_normals(self:</span> <span class="pre">pydrake.perception.PointCloud)</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></span></dt>
<dd><p>Returns if this cloud provides normals.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.has_rgbs(self:</span> <span class="pre">pydrake.perception.PointCloud)</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></span></dt>
<dd><p>Returns if this cloud provides RGB colors.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.has_xyzs(self:</span> <span class="pre">pydrake.perception.PointCloud)</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></span></dt>
<dd><p>Returns if this cloud provides XYZ values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.IsDefaultValue(value:</span> <span class="pre">float)</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></span></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.IsInvalidValue(value:</span> <span class="pre">float)</span> <span class="pre">-&gt;</span> <span class="pre">bool</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.kDefaultValue</span></span></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.mutable_normal(self:</span> <span class="pre">pydrake.perception.PointCloud,</span> <span class="pre">i:</span> <span class="pre">int)</span> <span class="pre">-&gt;</span> <span class="pre">numpy.ndarray[numpy.float32[3,</span> <span class="pre">1],</span> <span class="pre">flags.writeable]</span></span></dt>
<dd><p>Returns mutable access to a normal.</p>
<dl class="simple">
<dt>Precondition:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">has_normals()</span></code> must be true.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.mutable_normals(self:</span> <span class="pre">pydrake.perception.PointCloud)</span> <span class="pre">-&gt;</span> <span class="pre">numpy.ndarray[numpy.float32[3,</span> <span class="pre">n],</span> <span class="pre">flags.writeable,</span> <span class="pre">flags.f_contiguous]</span></span></dt>
<dd><p>Returns mutable access to normals.</p>
<dl class="simple">
<dt>Precondition:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">has_normals()</span></code> must be true.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.mutable_rgb(self:</span> <span class="pre">pydrake.perception.PointCloud,</span> <span class="pre">i:</span> <span class="pre">int)</span> <span class="pre">-&gt;</span> <span class="pre">numpy.ndarray[numpy.uint8[3,</span> <span class="pre">1],</span> <span class="pre">flags.writeable]</span></span></dt>
<dd><p>Returns mutable access to an RGB color.</p>
<dl class="simple">
<dt>Precondition:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">has_rgbs()</span></code> must be true.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.mutable_rgbs(self:</span> <span class="pre">pydrake.perception.PointCloud)</span> <span class="pre">-&gt;</span> <span class="pre">numpy.ndarray[numpy.uint8[3,</span> <span class="pre">n],</span> <span class="pre">flags.writeable,</span> <span class="pre">flags.f_contiguous]</span></span></dt>
<dd><p>Returns mutable access to RGB colors.</p>
<dl class="simple">
<dt>Precondition:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">has_rgbs()</span></code> must be true.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.mutable_xyz(self:</span> <span class="pre">pydrake.perception.PointCloud,</span> <span class="pre">i:</span> <span class="pre">int)</span> <span class="pre">-&gt;</span> <span class="pre">numpy.ndarray[numpy.float32[3,</span> <span class="pre">1],</span> <span class="pre">flags.writeable]</span></span></dt>
<dd><p>Returns mutable access to an XYZ value.</p>
<dl class="simple">
<dt>Precondition:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">has_xyzs()</span></code> must be true.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.mutable_xyzs(self:</span> <span class="pre">pydrake.perception.PointCloud)</span> <span class="pre">-&gt;</span> <span class="pre">numpy.ndarray[numpy.float32[3,</span> <span class="pre">n],</span> <span class="pre">flags.writeable,</span> <span class="pre">flags.f_contiguous]</span></span></dt>
<dd><p>Returns mutable access to XYZ values.</p>
<dl class="simple">
<dt>Precondition:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">has_xyzs()</span></code> must be true.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.normal(self:</span> <span class="pre">pydrake.perception.PointCloud,</span> <span class="pre">i:</span> <span class="pre">int)</span> <span class="pre">-&gt;</span> <span class="pre">numpy.ndarray[numpy.float32[3,</span> <span class="pre">1]]</span></span></dt>
<dd><p>Returns access to a normal.</p>
<dl class="simple">
<dt>Precondition:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">has_normals()</span></code> must be true.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.normals(self:</span> <span class="pre">pydrake.perception.PointCloud)</span> <span class="pre">-&gt;</span> <span class="pre">numpy.ndarray[numpy.float32[3,</span> <span class="pre">n],</span> <span class="pre">flags.f_contiguous]</span></span></dt>
<dd><p>Returns access to normals.</p>
<dl class="simple">
<dt>Precondition:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">has_normals()</span></code> must be true.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.resize(self:</span> <span class="pre">pydrake.perception.PointCloud,</span> <span class="pre">new_size:</span> <span class="pre">int)</span> <span class="pre">-&gt;</span> <span class="pre">None</span></span></dt>
<dd><p>Conservative resize; will maintain existing data, and initialize new
data to their invalid values.</p>
<dl class="simple">
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">new_size</span></code>:</dt><dd><p>The new size of the value. If less than the present <code class="docutils literal notranslate"><span class="pre">size()</span></code>,
then the values will be truncated. If greater than the present
<code class="docutils literal notranslate"><span class="pre">size()</span></code>, then the new values will be uninitialized if
<code class="docutils literal notranslate"><span class="pre">skip_initialize</span></code> is not true.</p>
</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">skip_initialize</span></code>:</dt><dd><p>Do not default-initialize new values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.rgb(self:</span> <span class="pre">pydrake.perception.PointCloud,</span> <span class="pre">i:</span> <span class="pre">int)</span> <span class="pre">-&gt;</span> <span class="pre">numpy.ndarray[numpy.uint8[3,</span> <span class="pre">1]]</span></span></dt>
<dd><p>Returns access to an RGB color.</p>
<dl class="simple">
<dt>Precondition:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">has_rgbs()</span></code> must be true.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.rgbs(self:</span> <span class="pre">pydrake.perception.PointCloud)</span> <span class="pre">-&gt;</span> <span class="pre">numpy.ndarray[numpy.uint8[3,</span> <span class="pre">n],</span> <span class="pre">flags.f_contiguous]</span></span></dt>
<dd><p>Returns access to RGB colors.</p>
<dl class="simple">
<dt>Precondition:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">has_rgbs()</span></code> must be true.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.SetFields(self:</span> <span class="pre">pydrake.perception.PointCloud,</span> <span class="pre">new_fields:</span> <span class="pre">pydrake.perception.Fields,</span> <span class="pre">skip_initialize:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False)</span> <span class="pre">-&gt;</span> <span class="pre">None</span></span></dt>
<dd><p>Updates the point cloud to a given set of fields. In the case of
introducing a new field, its container will be allocated with the
current size and default initialized. The data for all retained fields
will remain unchanged.</p>
<dl class="simple">
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">new_fields</span></code>:</dt><dd><p>New fields to set to.</p>
</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">skip_initialize</span></code>:</dt><dd><p>Do not default-initialize new values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.SetFrom(self:</span> <span class="pre">pydrake.perception.PointCloud,</span> <span class="pre">other:</span> <span class="pre">pydrake.perception.PointCloud)</span> <span class="pre">-&gt;</span> <span class="pre">None</span></span></dt>
<dd><p>Copies all points from another point cloud.</p>
<dl class="simple">
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">other</span></code>:</dt><dd><p>Other point cloud.</p>
</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">fields_in</span></code>:</dt><dd><p>Fields to copy. If this is <code class="docutils literal notranslate"><span class="pre">kInherit</span></code>, then <a href="#id1"><span class="problematic" id="id2">`</span></a>other`s fields will
be copied. Otherwise, both clouds must support the fields
indicated this parameter.</p>
</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">allow_resize</span></code>:</dt><dd><p>Permit resizing to the other cloud’s size.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.size(self:</span> <span class="pre">pydrake.perception.PointCloud)</span> <span class="pre">-&gt;</span> <span class="pre">int</span></span></dt>
<dd><p>Returns the number of points in this point cloud.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.T</span></span></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">float32</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.VoxelizedDownSample(self:</span> <span class="pre">pydrake.perception.PointCloud,</span> <span class="pre">voxel_size:</span> <span class="pre">float,</span> <span class="pre">parallelize:</span> <span class="pre">pydrake.common.Parallelism</span> <span class="pre">=</span> <span class="pre">False)</span> <span class="pre">-&gt;</span> <span class="pre">pydrake.perception.PointCloud</span></span></dt>
<dd><p>Returns a down-sampled point cloud by grouping all xyzs in this cloud
into a 3D grid with cells of dimension voxel_size. Each occupied voxel
will result in one point in the downsampled cloud, with a location
corresponding to the centroid of the points in that voxel. Points with
non-finite xyz values are ignored. All other fields (e.g. rgbs,
normals, and descriptors) with finite values will also be averaged
across the points in a voxel. <code class="docutils literal notranslate"><span class="pre">parallelize</span></code> enables OpenMP
parallelization. Equivalent to Open3d’s voxel_down_sample or PCL’s
VoxelGrid filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>RuntimeError if has_xyzs</strong><strong>(</strong><strong>) </strong><strong>is false.</strong> – </p></li>
<li><p><strong>RuntimeError if voxel_size &lt;= 0.</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.xyz(self:</span> <span class="pre">pydrake.perception.PointCloud,</span> <span class="pre">i:</span> <span class="pre">int)</span> <span class="pre">-&gt;</span> <span class="pre">numpy.ndarray[numpy.float32[3,</span> <span class="pre">1]]</span></span></dt>
<dd><p>Returns access to an XYZ value.</p>
<dl class="simple">
<dt>Precondition:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">has_xyzs()</span></code> must be true.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloud.xyzs(self:</span> <span class="pre">pydrake.perception.PointCloud)</span> <span class="pre">-&gt;</span> <span class="pre">numpy.ndarray[numpy.float32[3,</span> <span class="pre">n],</span> <span class="pre">flags.f_contiguous]</span></span></dt>
<dd><p>Returns access to XYZ values.</p>
<dl class="simple">
<dt>Precondition:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">has_xyzs()</span></code> must be true.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloudToLcm</span></span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pydrake.systems.framework.LeafSystem</span></code></p>
<p>Converts PointCloud inputs to lcmt_point_cloud output messages. The
message can be transmitted to other processes using
LcmPublisherSystem.</p>
<table align=center cellpadding=0 cellspacing=0><tr align=center><td style="vertical-align:middle"><table cellspacing=0 cellpadding=0><tr><td align=right style="padding:5px 0px 5px 0px">point_cloud&rarr;</td></tr></table></td><td align=center style="border:solid;padding-left:20px;padding-right:20px;vertical-align:middle" bgcolor=#F0F0F0>PointCloudToLcm</td><td style="vertical-align:middle"><table cellspacing=0 cellpadding=0><tr><td align=left style="padding:5px 0px 5px 0px">&rarr; lcmt_point_cloud</td></tr></table></td></tr></table><p>Any descriptor channels of the PointCloud will currently be ignored,
though may be added in a future revision.</p>
<p>Only the finite points from the cloud are copied into the message
(too-close or too-far points from a depth sensor are omitted).</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">PointCloudToLcm.__init__(self:</span> <span class="pre">pydrake.perception.PointCloudToLcm,</span> <span class="pre">frame_name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'')</span> <span class="pre">-&gt;</span> <span class="pre">None</span></span></dt>
<dd><p>Constructs a system that outputs messages using the given
<code class="docutils literal notranslate"><span class="pre">frame_name</span></code>.</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pydrake.multibody.tree.html" class="btn btn-neutral float-left" title="pydrake.multibody.tree" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pydrake.planning.html" class="btn btn-neutral float-right" title="pydrake.planning" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  
</footer>
<script>
  /* Enables clicking for the mobile "hamburger" (three-line) menu item. */
  const siteHeader = document.querySelector('.site-header')
  const mobileButton = document.querySelector('.menu-mobile-toggle')
  const body = document.querySelector('body')

  mobileButton.addEventListener('click', function(event) {
    siteHeader.classList.toggle('open');
    body.classList.toggle('overflow-hidden');
  })
</script>
<footer class="site-footer padding">
  <div class="contain">
    <a href="/" class="drake-logo">
      <img src="/images/drake-logo.svg">
    </a>
    <div class="footer-menu">
      <ul>
        <li>
          <a href="/doxygen_cxx/index.html" class="site-menu-item">C++</a>
        </li>
        <li>
          <a href="/pydrake/index.html" class="site-menu-item">Python</a>
        </li>
        <li class="github-link">
          <a href="https://github.com/RobotLocomotion/drake" class="site-menu-item">GitHub <img src="/third_party/images/GitHub-Mark-64px.png"></a>
        </li>
      </ul>
    </div>
  </div>


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>