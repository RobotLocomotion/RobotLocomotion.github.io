

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pydrake.manipulation.planner &mdash; pydrake  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pydrake.manipulation.schunk_wsg" href="pydrake.manipulation.schunk_wsg.html" />
    <link rel="prev" title="pydrake.manipulation.kuka_iiwa" href="pydrake.manipulation.kuka_iiwa.html" /> 
</head>

<body class="wy-body-for-nav">

  
<header class="site-header">
  <div class="site-header-inner contain">
    <a class="drake-logo" href="/"><img src="/images/drake-logo-white.svg"></a>
    <div class="menu-mobile-toggle">
      <span></span>
    </div>
    <nav class="site-menu">
      <ul>
        <li class="site-menu-item site-menu-item-main">
          <a class="site-menu-item" href="/">Home</a>
        </li>
        <li class="site-menu-item site-menu-item-main">
          <a class="site-menu-item" href="/installation.html">Installation</a>
        </li>
        <li class="site-menu-item site-menu-item-main">
          <a class="site-menu-item" href="/gallery.html">Gallery</a>
        </li>
        <li class="site-menu-item site-menu-item-main">API Documentation
          <div class="sub">
            <a class="site-menu-item" href="https://drake.mit.edu/doxygen_cxx/index.html">C++</a> <a class="site-menu-item" href="https://drake.mit.edu/pydrake/index.html">Python</a>
          </div>
        </li>
        <li class="site-menu-item site-menu-item-main">Resources
          <div class="sub">
            <a class="site-menu-item" href="/getting_help.html">Getting Help</a> <a class="site-menu-item" href="https://deepnote.com/workspace/Drake-0b3b2c53-a7ad-441b-80f8-bf8350752305/project/Tutorials-2b4fc509-aef2-417d-a40d-6071dfed9199/%2Findex.ipynb">Tutorials</a> <a class="site-menu-item" href="/python_bindings.html">Python Bindings</a> <a class="site-menu-item" href="/developers.html">For Developers</a> <a class="site-menu-item" href="/credits.html">Credits</a>
          </div>
        </li>
        <li class="github-link">
          <a class="site-menu-item" href="https://github.com/RobotLocomotion/drake">GitHub <img src="/third_party/images/GitHub-Mark-Light-64px.png"></a>
        </li>
      </ul>
    </nav>
  </div>
</header>

  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> pydrake
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search pydrake only…" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
  <form id="ddg-search-form" class="wy_form" action="https://duckduckgo.com/" method="get">
    <input type="text" name="q" placeholder="Search all of Drake…" />
    <input type="hidden" name="sites" value="drake.mit.edu" />
  </form>
</div>


          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="pydrake.all.html">pydrake.all</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.autodiffutils.html">pydrake.autodiffutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.common.html">pydrake.common</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.examples.html">pydrake.examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.forwarddiff.html">pydrake.forwarddiff</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.geometry.html">pydrake.geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.lcm.html">pydrake.lcm</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="pydrake.manipulation.html">pydrake.manipulation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="pydrake.manipulation.all.html">pydrake.manipulation.all</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydrake.manipulation.kuka_iiwa.html">pydrake.manipulation.kuka_iiwa</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">pydrake.manipulation.planner</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydrake.manipulation.schunk_wsg.html">pydrake.manipulation.schunk_wsg</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydrake.manipulation.util.html">pydrake.manipulation.util</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.math.html">pydrake.math</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.multibody.html">pydrake.multibody</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.perception.html">pydrake.perception</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.polynomial.html">pydrake.polynomial</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.solvers.html">pydrake.solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.symbolic.html">pydrake.symbolic</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.systems.html">pydrake.systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.trajectories.html">pydrake.trajectories</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.tutorials.html">pydrake.tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydrake.visualization.html">pydrake.visualization</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pydrake</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="pydrake.manipulation.html">pydrake.manipulation</a> &raquo;</li>
        
      <li>pydrake.manipulation.planner</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pydrake.manipulation.planner">
<span id="pydrake-manipulation-planner"></span><h1>pydrake.manipulation.planner<a class="headerlink" href="#module-pydrake.manipulation.planner" title="Permalink to this headline">¶</a></h1>
<p>Tools for manipulation planning.</p>
<dl class="class">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsIntegrator">
<em class="property">class </em><code class="descclassname">pydrake.manipulation.planner.</code><code class="descname">DifferentialInverseKinematicsIntegrator</code><a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsIntegrator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pydrake.systems.framework.html#pydrake.systems.framework.LeafSystem_[float]" title="pydrake.systems.framework.LeafSystem_[float]"><code class="xref py py-class docutils literal notranslate"><span class="pre">pydrake.systems.framework.LeafSystem_[float]</span></code></a></p>
<p>A LeafSystem which uses DoDifferentialInverseKinematics to produce
joint position commands.</p>
<p>Rather than calling DoDifferentialInverseKinematics on the current
measured positions of the robot, this System maintains its own
internal state and integrates successive velocity commands open loop.
Using measured joint positions in a feedback loop can lead to undamped
oscillations in the redundant joints; we hope to resolve this and are
tracking it in #9773.</p>
<p>Note: It is highly recommended that the user calls <code class="docutils literal notranslate"><span class="pre">SetPosition()</span></code>
once to initialize the position commands to match the initial
positions of the robot. Alternatively, one can connect the optional
<code class="docutils literal notranslate"><span class="pre">robot_state</span></code> input port – which is only used at Initialization,
and simply sets the positions to the positions on this input port (the
port accepts the state vector with positions and velocities for easy
of use with MultibodyPlant, but only the positions are used).</p>
<table align=center cellpadding=0 cellspacing=0><tr align=center><td style="vertical-align:middle"><table cellspacing=0 cellpadding=0><tr><td align=right style="padding:5px 0px 5px 0px">X_WE_desired&rarr;</td></tr><tr><td align=right style="padding:5px 0px 5px 0px">robot_state (optional)&rarr;</td></tr></table></td><td align=center style="border:solid;padding-left:20px;padding-right:20px;vertical-align:middle" bgcolor=#F0F0F0>DifferentialInverseKinematicsIntegrator</td><td style="vertical-align:middle"><table cellspacing=0 cellpadding=0><tr><td align=left style="padding:5px 0px 5px 0px">&rarr; joint_positions</td></tr></table></td></tr></table><dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsIntegrator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsIntegrator</em>, <em>robot: drake::multibody::MultibodyPlant&lt;double&gt;</em>, <em>frame_E: drake::multibody::Frame&lt;double&gt;</em>, <em>time_step: float</em>, <em>parameters: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters</em>, <em>robot_context: pydrake.systems.framework.Context_[float] = None</em>, <em>log_only_when_result_state_changes: bool = True</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsIntegrator.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs the system.</p>
<dl class="docutils">
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">robot</span></code>:</dt>
<dd>A MultibodyPlant describing the robot.</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">frame_E</span></code>:</dt>
<dd>End-effector frame.</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">time_step</span></code>:</dt>
<dd>the discrete time step of the (Euler) integration.</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">parameters</span></code>:</dt>
<dd>Collection of various problem specific constraints and constants.
The <code class="docutils literal notranslate"><span class="pre">timestep</span></code> parameter will be set to <code class="docutils literal notranslate"><span class="pre">time_step</span></code>.</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">robot_context</span></code>:</dt>
<dd>Optional Context of the MultibodyPlant. The position values of
this context will be overwritten during integration; you only need
to pass this in if the robot has any non-default parameters.
$*Default:* <code class="docutils literal notranslate"><span class="pre">robot.CreateDefaultContext()</span></code>.</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">log_only_when_result_state_changes</span></code>:</dt>
<dd>is a boolean that determines whether the system will log on every
differential IK failure, or only when the failure state changes.
When the value is <code class="docutils literal notranslate"><span class="pre">True</span></code>, it will cause the system to have an
additional discrete state variable to store the most recent
DifferentialInverseKinematicsStatus. Set this to <code class="docutils literal notranslate"><span class="pre">False</span></code> if you
want IsDifferenceEquationSystem() to return <code class="docutils literal notranslate"><span class="pre">True</span></code>.</dd>
</dl>
<p>Note: All references must remain valid for the lifetime of this
system.</p>
</dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsIntegrator.ForwardKinematics">
<code class="descname">ForwardKinematics</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsIntegrator, context: pydrake.systems.framework.Context_[float]</em><span class="sig-paren">)</span> &#x2192; pydrake.math.RigidTransform_[float]<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsIntegrator.ForwardKinematics" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides X_WE as a function of the joint position set in <code class="docutils literal notranslate"><span class="pre">context</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsIntegrator.get_mutable_parameters">
<code class="descname">get_mutable_parameters</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsIntegrator</em><span class="sig-paren">)</span> &#x2192; pydrake.manipulation.planner.DifferentialInverseKinematicsParameters<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsIntegrator.get_mutable_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a mutable reference to the differential IK parameters owned by
this system.</p>
</dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsIntegrator.get_parameters">
<code class="descname">get_parameters</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsIntegrator</em><span class="sig-paren">)</span> &#x2192; pydrake.manipulation.planner.DifferentialInverseKinematicsParameters<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsIntegrator.get_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a const reference to the differential IK parameters owned by
this system.</p>
</dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsIntegrator.SetPositions">
<code class="descname">SetPositions</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsIntegrator, context: pydrake.systems.framework.Context_[float], positions: numpy.ndarray[numpy.float64[m, 1]]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsIntegrator.SetPositions" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the joint positions, which are stored as state in the context. It
is recommended that the user calls this method to initialize the
position commands to match the initial positions of the robot.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters">
<em class="property">class </em><code class="descclassname">pydrake.manipulation.planner.</code><code class="descname">DifferentialInverseKinematicsParameters</code><a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains parameters for differential inverse kinematics.</p>
<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded function.</p>
<ol class="arabic simple">
<li>__init__(self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters, num_positions: int, num_velocities: int = None) -&gt; None</li>
</ol>
<p>Constructor. Initializes the nominal joint position to zeros of size
<code class="docutils literal notranslate"><span class="pre">num_positions</span></code>. The time step is initialized to 1. The end effector
gains are initialized to ones. The joint centering gains are
initialized to zero. All constraints are initialized to nullopt.</p>
<dl class="docutils">
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">num_positions</span></code>:</dt>
<dd>Number of generalized positions.</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">num_velocities</span></code>:</dt>
<dd>Number of generalized velocities (by default it will be set to
num_positions).</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Currently DoDifferentialInverseKinematics requires that
num_positions == num_velocities.</p>
</div>
<ol class="arabic simple" start="2">
<li>__init__(self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters) -&gt; None</li>
</ol>
<p>(Deprecated.)</p>
<dl class="docutils">
<dt>Deprecated:</dt>
<dd>num_positions is now a mandatory argument for the constructor.
This default constructor sets num_positions = 1. This will be
removed from Drake on or after 2023-01-01.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_end_effector_velocity_flag">
<code class="descname">get_end_effector_velocity_flag</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters</em><span class="sig-paren">)</span> &#x2192; numpy.ndarray[bool[6, 1]]<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_end_effector_velocity_flag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_end_effector_velocity_gain">
<code class="descname">get_end_effector_velocity_gain</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters</em><span class="sig-paren">)</span> &#x2192; numpy.ndarray[numpy.float64[6, 1]]<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_end_effector_velocity_gain" title="Permalink to this definition">¶</a></dt>
<dd><p>(Deprecated.)</p>
<dl class="docutils">
<dt>Deprecated:</dt>
<dd>Use get_end_effector_velocity_flag instead. (The gains before were
actually only acting as a flag). This will be removed from Drake
on or after 2023-01-01.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_joint_acceleration_limits">
<code class="descname">get_joint_acceleration_limits</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters</em><span class="sig-paren">)</span> &#x2192; Optional[Tuple[numpy.ndarray[numpy.float64[m, 1]], numpy.ndarray[numpy.float64[m, 1]]]]<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_joint_acceleration_limits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_joint_centering_gain">
<code class="descname">get_joint_centering_gain</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters</em><span class="sig-paren">)</span> &#x2192; numpy.ndarray[numpy.float64[m, n]]<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_joint_centering_gain" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_joint_position_limits">
<code class="descname">get_joint_position_limits</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters</em><span class="sig-paren">)</span> &#x2192; Optional[Tuple[numpy.ndarray[numpy.float64[m, 1]], numpy.ndarray[numpy.float64[m, 1]]]]<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_joint_position_limits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_joint_velocity_limits">
<code class="descname">get_joint_velocity_limits</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters</em><span class="sig-paren">)</span> &#x2192; Optional[Tuple[numpy.ndarray[numpy.float64[m, 1]], numpy.ndarray[numpy.float64[m, 1]]]]<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_joint_velocity_limits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_maximum_scaling_to_report_stuck">
<code class="descname">get_maximum_scaling_to_report_stuck</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_maximum_scaling_to_report_stuck" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_nominal_joint_position">
<code class="descname">get_nominal_joint_position</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters</em><span class="sig-paren">)</span> &#x2192; numpy.ndarray[numpy.float64[m, 1]]<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_nominal_joint_position" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_num_positions">
<code class="descname">get_num_positions</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_num_positions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_num_velocities">
<code class="descname">get_num_velocities</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_num_velocities" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_time_step">
<code class="descname">get_time_step</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_time_step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_timestep">
<code class="descname">get_timestep</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_timestep" title="Permalink to this definition">¶</a></dt>
<dd><p>&#64;name Getters. (Deprecated.)</p>
<dl class="docutils">
<dt>Deprecated:</dt>
<dd>Use get_time_step() instead of get_timestep(). This will be
removed from Drake on or after 2023-01-01.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_unconstrained_degrees_of_freedom_velocity_limit">
<code class="descname">get_unconstrained_degrees_of_freedom_velocity_limit</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters</em><span class="sig-paren">)</span> &#x2192; Optional[float]<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.get_unconstrained_degrees_of_freedom_velocity_limit" title="Permalink to this definition">¶</a></dt>
<dd><p>(Deprecated.)</p>
<dl class="docutils">
<dt>Deprecated:</dt>
<dd>The unconstrained_degrees_of_freedom_velocity_limit is no longer
used in the differential IK formulation and will be removed from
this parameters class. This will be removed from Drake on or after
2023-01-01.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_end_effector_velocity_flag">
<code class="descname">set_end_effector_velocity_flag</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters, flag_E: numpy.ndarray[bool[6, 1]]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_end_effector_velocity_flag" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the end effector flags in the body frame. If a spatial velocity
flag is set to false, it will not be included in the differential IK
formulation.</p>
</dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_end_effector_velocity_gain">
<code class="descname">set_end_effector_velocity_gain</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters, arg0: numpy.ndarray[numpy.float64[6, 1]]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_end_effector_velocity_gain" title="Permalink to this definition">¶</a></dt>
<dd><p>(Deprecated.)</p>
<dl class="docutils">
<dt>Deprecated:</dt>
<dd>Use set_end_effector_velocity_flag instead. (The gains before were
actually only acting as a flag). This will be removed from Drake
on or after 2023-01-01.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_joint_acceleration_limits">
<code class="descname">set_joint_acceleration_limits</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters, arg0: Tuple[numpy.ndarray[numpy.float64[m, 1]], numpy.ndarray[numpy.float64[m, 1]]]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_joint_acceleration_limits" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the joint acceleration limits.</p>
<dl class="docutils">
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">q_bounds</span></code>:</dt>
<dd>The first element is the lower bound, and the second is the upper
bound.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li>RuntimeError if the first or second element of <code class="docutils literal notranslate"><span class="pre">q_bounds</span></code> has</li>
<li>the wrong dimension or any element of the second element is</li>
<li>smaller than its corresponding part in the first element.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_joint_centering_gain">
<code class="descname">set_joint_centering_gain</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters, K: numpy.ndarray[numpy.float64[m, n]]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_joint_centering_gain" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the joint centering gain, K, so that the joint centering command
is v_next = K * (q_nominal - q_current).</p>
<dl class="docutils">
<dt>Precondition:</dt>
<dd>K must be num_velocities x num_positions.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_joint_position_limits">
<code class="descname">set_joint_position_limits</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters, arg0: Tuple[numpy.ndarray[numpy.float64[m, 1]], numpy.ndarray[numpy.float64[m, 1]]]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_joint_position_limits" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the joint position limits.</p>
<dl class="docutils">
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">q_bounds</span></code>:</dt>
<dd>The first element is the lower bound, and the second is the upper
bound.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li>RuntimeError if the first or second element of <code class="docutils literal notranslate"><span class="pre">q_bounds</span></code> has</li>
<li>the wrong dimension or any element of the second element is</li>
<li>smaller than its corresponding part in the first element.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_joint_velocity_limits">
<code class="descname">set_joint_velocity_limits</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters, arg0: Tuple[numpy.ndarray[numpy.float64[m, 1]], numpy.ndarray[numpy.float64[m, 1]]]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_joint_velocity_limits" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the joint velocity limits.</p>
<dl class="docutils">
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">q_bounds</span></code>:</dt>
<dd>The first element is the lower bound, and the second is the upper
bound.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li>RuntimeError if the first or second element of <code class="docutils literal notranslate"><span class="pre">q_bounds</span></code> has</li>
<li>the wrong dimension or any element of the second element is</li>
<li>smaller than its corresponding part in the first element.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_maximum_scaling_to_report_stuck">
<code class="descname">set_maximum_scaling_to_report_stuck</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters</em>, <em>scaling: float</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_maximum_scaling_to_report_stuck" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the threshold for α below which the status returned is
DifferentialInverseKinematicsStatus::kStuck. α is the scaling of the
commanded spatial velocity, so when α is small, it means that the
actual spatial velocity magnitude will be small proportional to the
commanded.</p>
<p><em>Default:</em> 0.01.</p>
</dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_nominal_joint_position">
<code class="descname">set_nominal_joint_position</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters, arg0: numpy.ndarray[numpy.float64[m, 1]]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_nominal_joint_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the nominal joint position.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">RuntimeError if <code class="docutils literal notranslate"><span class="pre">nominal_joint_position</span></code>’s dimension differs.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_time_step">
<code class="descname">set_time_step</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters</em>, <em>dt: float</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_time_step" title="Permalink to this definition">¶</a></dt>
<dd><p>&#64;name Setters. Sets time step to <code class="docutils literal notranslate"><span class="pre">dt</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">RuntimeError if dt &lt;= 0.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_timestep">
<code class="descname">set_timestep</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters</em>, <em>arg0: float</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_timestep" title="Permalink to this definition">¶</a></dt>
<dd><p>(Deprecated.)</p>
<dl class="docutils">
<dt>Deprecated:</dt>
<dd>Use set_time_step() instead of set_timestep(). This will be
removed from Drake on or after 2023-01-01.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_unconstrained_degrees_of_freedom_velocity_limit">
<code class="descname">set_unconstrained_degrees_of_freedom_velocity_limit</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters</em>, <em>arg0: float</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsParameters.set_unconstrained_degrees_of_freedom_velocity_limit" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the max magnitude of the velocity in the unconstrained degree of
freedom to <code class="docutils literal notranslate"><span class="pre">limit</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">RuntimeError if limit &lt; 0. / (Deprecated.)</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Deprecated:</dt>
<dd>The unconstrained_degrees_of_freedom_velocity_limit is no longer
used in the differential IK formulation and will be removed from
this parameters class. This will be removed from Drake on or after
2023-01-01.</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsResult">
<em class="property">class </em><code class="descclassname">pydrake.manipulation.planner.</code><code class="descname">DifferentialInverseKinematicsResult</code><a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsResult" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsResult.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsResult</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsResult.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsResult.joint_velocities">
<code class="descname">joint_velocities</code><a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsResult.joint_velocities" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsResult.status">
<code class="descname">status</code><a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsResult.status" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsStatus">
<em class="property">class </em><code class="descclassname">pydrake.manipulation.planner.</code><code class="descname">DifferentialInverseKinematicsStatus</code><a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Members:</p>
<blockquote>
<div><p>kSolutionFound : Found the optimal solution.</p>
<p>kNoSolutionFound : Solver unable to find a solution.</p>
<p>kStuck : Unable to follow the desired velocity direction</p>
</div></blockquote>
<dl class="method">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsStatus.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>self: pydrake.manipulation.planner.DifferentialInverseKinematicsStatus</em>, <em>value: int</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsStatus.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsStatus.kNoSolutionFound">
<code class="descname">kNoSolutionFound</code><em class="property"> = &lt;DifferentialInverseKinematicsStatus.kNoSolutionFound: 1&gt;</em><a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsStatus.kNoSolutionFound" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsStatus.kSolutionFound">
<code class="descname">kSolutionFound</code><em class="property"> = &lt;DifferentialInverseKinematicsStatus.kSolutionFound: 0&gt;</em><a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsStatus.kSolutionFound" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsStatus.kStuck">
<code class="descname">kStuck</code><em class="property"> = &lt;DifferentialInverseKinematicsStatus.kStuck: 2&gt;</em><a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsStatus.kStuck" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsStatus.name">
<code class="descname">name</code><a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsStatus.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pydrake.manipulation.planner.DifferentialInverseKinematicsStatus.value">
<code class="descname">value</code><a class="headerlink" href="#pydrake.manipulation.planner.DifferentialInverseKinematicsStatus.value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="pydrake.manipulation.planner.DoDifferentialInverseKinematics">
<code class="descclassname">pydrake.manipulation.planner.</code><code class="descname">DoDifferentialInverseKinematics</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pydrake.manipulation.planner.DoDifferentialInverseKinematics" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded function.</p>
<ol class="arabic simple">
<li>DoDifferentialInverseKinematics(q_current: numpy.ndarray[numpy.float64[m, 1]], v_current: numpy.ndarray[numpy.float64[m, 1]], V: numpy.ndarray[numpy.float64[m, 1]], J: numpy.ndarray[numpy.float64[m, n]], parameters: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters) -&gt; pydrake.manipulation.planner.DifferentialInverseKinematicsResult</li>
</ol>
<p>Computes a generalized velocity v_next, via the following
MathematicalProgram:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">min_</span><span class="p">{</span><span class="n">v_next</span><span class="p">,</span><span class="n">alpha</span><span class="p">}</span>  <span class="o">-</span><span class="mi">100</span> <span class="o">*</span> <span class="n">alpha</span>
                        <span class="o">+</span> <span class="o">|</span> <span class="n">P</span> <span class="o">*</span> <span class="p">(</span><span class="n">v_next</span> <span class="o">-</span> <span class="n">K</span> <span class="o">*</span> <span class="p">(</span><span class="n">q_nominal</span> <span class="o">-</span> <span class="n">q_current</span><span class="p">))</span> <span class="o">|^</span><span class="mi">2</span>

  <span class="n">s</span><span class="o">.</span><span class="n">t</span><span class="o">.</span>
    <span class="n">J</span> <span class="o">*</span> <span class="n">v_next</span> <span class="o">=</span> <span class="n">alpha</span> <span class="o">*</span> <span class="n">V</span><span class="p">,</span> <span class="o">//</span> <span class="n">J</span> <span class="o">*</span> <span class="n">v_next</span> <span class="n">has</span> <span class="n">the</span> <span class="n">same</span> <span class="n">direction</span> <span class="k">as</span> <span class="n">V</span>
    <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">alpha</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">,</span>        <span class="o">//</span> <span class="n">Never</span> <span class="n">go</span> <span class="n">faster</span> <span class="n">than</span> <span class="n">V</span>
    <span class="n">joint_lim_min</span> <span class="o">&lt;=</span> <span class="n">q_current</span> <span class="o">+</span> <span class="n">v_next</span><span class="o">*</span><span class="n">dt</span> <span class="o">&lt;=</span> <span class="n">joint_lim_max</span><span class="p">,</span>
    <span class="n">joint_vel_lim_min</span> <span class="o">&lt;=</span> <span class="n">v_next</span> <span class="o">&lt;=</span> <span class="n">joint_vel_lim_max</span><span class="p">,</span>
    <span class="n">joint_accel_lim_min</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">v_next</span> <span class="o">-</span> <span class="n">v_current</span><span class="p">)</span><span class="o">/</span><span class="n">dt</span> <span class="o">&lt;=</span> <span class="n">joint_accel_lim_max</span><span class="p">,</span>
    <span class="ow">and</span> <span class="n">additional</span> <span class="n">linear</span> <span class="n">velocity</span> <span class="n">constraints</span><span class="p">,</span>
</pre></div>
</div>
<p>where: - The rows of P form an orthonormal basis for the nullspace of
J, - J.rows() == V.size(), - J.cols() == v_current.size() ==
q_current.size() == v_next.size(), - V can have any size, with each
element representing a constraint on the solution (6 constraints
specifying an end-effector spatial velocity is typical, but not
required), - K is the joint_centering_gain, - the “additional linear
velocity constraints” are added via
DifferentialInverseKinematicsParameters::AddLinearVelocityConstraint().</p>
<p>Intuitively, this finds a v_next such that J*v_next is in the same
direction as V, and the difference between <a href="#id1"><span class="problematic" id="id2">|V|</span></a> and <a href="#id3"><span class="problematic" id="id4">|J * v_next|</span></a> is
minimized while all constraints in <code class="docutils literal notranslate"><span class="pre">parameters</span></code> are satisfied as
well. In the nullspace of this objective, we have a secondary
objective to minimize <a href="#id5"><span class="problematic" id="id6">|v_next - K * (q_nominal - q_current)|</span></a>.</p>
<p>For more details, see
<a class="reference external" href="https://manipulation.csail.mit.edu/pick.html#diff_ik_w_constraints">https://manipulation.csail.mit.edu/pick.html#diff_ik_w_constraints</a> .</p>
<p>If q_current is a feasible point, then v_next = 0 should always be a
feasible solution. If the problem data is bad (q_current is
infeasible, and no feasible velocities can restore feasibility in one
step), then it is possible that the solver cannot find a solution, in
which case, status will be set to kNoSolution in the returned
DifferentialInverseKinematicsResult. If the velocity scaling, alpha,
is very small, then the status will be set to kStuck.</p>
<dl class="docutils">
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">q_current</span></code>:</dt>
<dd>The current generalized position.</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">v_current</span></code>:</dt>
<dd>The current generalized position.</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">V</span></code>:</dt>
<dd>Desired spatial velocity. It must have the same number of rows as
<code class="docutils literal notranslate"><span class="pre">J</span></code>.</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">J</span></code>:</dt>
<dd>Jacobian with respect to generalized velocities v. It must have
the same number of rows as <code class="docutils literal notranslate"><span class="pre">V</span></code>. J * v need to represent the same
spatial velocity as <code class="docutils literal notranslate"><span class="pre">V</span></code>.</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">parameters</span></code>:</dt>
<dd>Collection of various problem specific constraints and constants.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">If the solver successfully finds a solution, joint_velocities will
be set to v, otherwise it will be nullopt.</td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="2">
<li>DoDifferentialInverseKinematics(robot: drake::multibody::MultibodyPlant&lt;double&gt;, context: pydrake.systems.framework.Context_[float], V_WE_desired: numpy.ndarray[numpy.float64[6, 1]], frame_E: drake::multibody::Frame&lt;double&gt;, parameters: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters) -&gt; pydrake.manipulation.planner.DifferentialInverseKinematicsResult</li>
</ol>
<p>A wrapper over DoDifferentialInverseKinematics(q_current, v_current,
V, J, params) that tracks frame E’s spatial velocity. q_current and
v_current are taken from <code class="docutils literal notranslate"><span class="pre">context</span></code>. V and J are expressed in E, and
only the elements with non-zero gains in <code class="docutils literal notranslate"><span class="pre">parameters</span></code>
get_end_effector_velocity_gains() are used in the program.</p>
<dl class="docutils">
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">robot</span></code>:</dt>
<dd>A MultibodyPlant model.</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">context</span></code>:</dt>
<dd>Must be the Context of the MultibodyPlant. Contains the current
generalized position and velocity.</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">V_WE_desired</span></code>:</dt>
<dd>Desired world frame spatial velocity of <code class="docutils literal notranslate"><span class="pre">frame_E</span></code>.</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">frame_E</span></code>:</dt>
<dd>End effector frame.</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">parameters</span></code>:</dt>
<dd>Collection of various problem specific constraints and constants.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">If the solver successfully finds a solution, joint_velocities will
be set to v, otherwise it will be nullopt.</td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="3">
<li>DoDifferentialInverseKinematics(robot: drake::multibody::MultibodyPlant&lt;double&gt;, context: pydrake.systems.framework.Context_[float], X_WE_desired: pydrake.math.RigidTransform_[float], frame_E: drake::multibody::Frame&lt;double&gt;, parameters: pydrake.manipulation.planner.DifferentialInverseKinematicsParameters) -&gt; pydrake.manipulation.planner.DifferentialInverseKinematicsResult</li>
</ol>
<p>A wrapper over DoDifferentialInverseKinematics(robot, context,
V_WE_desired, frame_E, params) that tracks frame E’s pose in the world
frame. q_current and v_current are taken from <code class="docutils literal notranslate"><span class="pre">cache</span></code>. V_WE is
computed by ComputePoseDiffInCommonFrame(X_WE, X_WE_desired) / dt,
where X_WE is computed from <code class="docutils literal notranslate"><span class="pre">context</span></code>, and dt is taken from
<code class="docutils literal notranslate"><span class="pre">parameters</span></code>.</p>
<dl class="docutils">
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">robot</span></code>:</dt>
<dd>A MultibodyPlant model.</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">context</span></code>:</dt>
<dd>Must be the Context of the MultibodyPlant. Contains the current
generalized position and velocity.</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">X_WE_desired</span></code>:</dt>
<dd>Desired pose of <code class="docutils literal notranslate"><span class="pre">frame_E</span></code> in the world frame.</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">frame_E</span></code>:</dt>
<dd>End effector frame.</dd>
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">parameters</span></code>:</dt>
<dd>Collection of various problem specific constraints and constants.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">If the solver successfully finds a solution, joint_velocities will
be set to v, otherwise it will be nullopt.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pydrake.manipulation.schunk_wsg.html" class="btn btn-neutral float-right" title="pydrake.manipulation.schunk_wsg" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pydrake.manipulation.kuka_iiwa.html" class="btn btn-neutral float-left" title="pydrake.manipulation.kuka_iiwa" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
</footer>
<script>
  /* Enables clicking for the mobile "hamburger" (three-line) menu item. */
  const siteHeader = document.querySelector('.site-header')
  const mobileButton = document.querySelector('.menu-mobile-toggle')
  const body = document.querySelector('body')

  mobileButton.addEventListener('click', function(event) {
    siteHeader.classList.toggle('open');
    body.classList.toggle('overflow-hidden');
  })
</script>
<footer class="site-footer padding">
  <div class="contain">
    <a href="/" class="drake-logo">
      <img src="/images/drake-logo.svg">
    </a>
    <div class="footer-menu">
      <ul>
        <li>
          <a href="/doxygen_cxx/index.html" class="site-menu-item">C++</a>
        </li>
        <li>
          <a href="/pydrake/index.html" class="site-menu-item">Python</a>
        </li>
        <li class="github-link">
          <a href="https://github.com/RobotLocomotion/drake" class="site-menu-item">GitHub <img src="/third_party/images/GitHub-Mark-64px.png"></a>
        </li>
      </ul>
    </div>
  </div>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>